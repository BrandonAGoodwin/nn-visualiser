(this["webpackJsonpnn-visualiser"]=this["webpackJsonpnn-visualiser"]||[]).push([[0],{295:function(e,t,n){},297:function(e,t,n){},447:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n(0),r=n.n(a),o=n(17),c=n.n(o),s=(n(295),n(5)),u=n(8),l=Object(a.createContext)({background:"linear-gradient(207deg, rgba(255,118,97,1) 0%, rgba(34,55,129,1) 100%)",minColour:"#223781",minColourName:"blue",midColour:"#FFFFFF",midColourName:"white",maxColour:"#ff7661",maxColourName:"orange"}),d=function(e){var t=Object(a.useState)({background:"linear-gradient(207deg, rgba(255,118,97,1) 0%, rgba(34,55,129,1) 100%)",minColour:"#223781",minColourName:"blue",midColour:"#FFFFFF",midColourName:"white",maxColour:"#ff7661",maxColourName:"orange"}),n=Object(s.a)(t,2);n[0],n[1];return Object(i.jsx)(l.Provider,{value:{background:"linear-gradient(207deg, rgba(255,118,97,1) 0%, rgba(34,55,129,1) 100%)",minColour:"#223781",minColourName:"blue",midColour:"#FFFFFF",midColourName:"white",maxColour:"#ff7661",maxColourName:"orange"},children:e.children})},h=n(9),f=n(473),b=n(485),j=n(483),g=(n(297),n(6));var x=function(e){var t=Object(a.useRef)(null),n=Object(a.useState)(!1),r=Object(s.a)(n,2),o=r[0],c=r[1],u=(e.width,function(){l(),c(!0)});Object(a.useEffect)((function(){u()}),[]),Object(a.useEffect)((function(){o?d():u()}),[e.dataset]);var l=function(){g.l(t.currnet).attr("width",e.width+2*e.margin).attr("height",e.height+2*e.margin)},d=function(){var n,i=g.l(t.current);i.selectAll(".loss-graph").remove();var a=i.append("g").attr("class","loss-graph").attr("transform","translate(".concat(e.margin,", ").concat(e.margin,")")),r=g.j().range([0,e.width]).domain([1,Math.max(e.dataset.length,(null===(n=e.comparisionData)||void 0===n?void 0:n.length)||0)]),o=Number.MAX_VALUE,c=Number.MIN_VALUE;e.dataset.forEach((function(e){var t=e[1];o=Math.min(o,t),c=Math.max(c,t)})),e.comparisionData&&e.comparisionData.forEach((function(e){var t=e[1];o=Math.min(o,t),c=Math.max(c,t)}));var s=g.j().range([e.height,0]).domain([o,c]);a.append("g").attr("class","axis").attr("transform","translate(0,".concat(e.height,")")).call(g.a(r)),a.append("g").attr("class","axis").call(g.b(s));a.append("path").datum(e.dataset).attr("fill","none").attr("stroke","#606060").attr("stroke-width",1.5).attr("d",g.f().x((function(e){return r(e[0])||0})).y((function(e){return s(e[1])||0}))),e.comparisionData&&a.append("path").datum(e.comparisionData).attr("fill","none").attr("stroke","red").attr("stroke-width",1.5).attr("d",g.f().x((function(e){return r(e[0])||0})).y((function(e){return s(e[1])||0})))};return Object(i.jsx)("svg",{ref:t,width:e.width+2*e.margin,height:e.height+2*e.margin})};function p(){var e=Object(u.a)(["\n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n    -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n    box-sizing: border-box; \n    background-color: white;\n    margin: 30px auto;\n    min-width: 800px;\n    width: auto;\n    max-width: 80vw;\n    height: 80vh;\n    padding: 30px;\n    border-radius: 30px;\n    border: 2px solid #bdbdbd;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n"]);return p=function(){return e},e}var v=Object(h.a)("div")(p());var O=function(e){var t;return Object(i.jsx)(v,{id:"compare-page",children:e.currentState&&Object(i.jsx)(x,{height:60,width:170,margin:5,dataset:e.currentState.lossData,comparisionData:null===(t=e.savedState)||void 0===t?void 0:t.lossData})})},m=n(11),w=n(34),y=n(39),k=function(){function e(t,n){Object(w.a)(this,e),this.id=void 0,this.activationFunction=void 0,this.linksIn=[],this.linksOut=[],this.totalInput=0,this.bias=.1,this.output=0,this.outputDerivative=0,this.inputDerivative=0,this.accInputDererivatives=0,this.numInputDerivatives=0,this.dw=0,this.db=0,this.id=t,this.activationFunction=n}return Object(y.a)(e,[{key:"updateOutput",value:function(){this.totalInput=this.bias;for(var e=0;e<this.linksIn.length;e++)this.totalInput+=this.linksIn[e].weight*this.linksIn[e].source.output;return this.output=this.activationFunction.output(this.totalInput),this.output}}]),e}();Math.tanh=Math.tanh||function(e){if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)};var A=function e(){Object(w.a)(this,e)};A.SIGMOID={output:function(e){return 1/(1+Math.exp(-e))},derivative:function(e){var t=A.SIGMOID.output(e);return t*(1-t)}},A.RELU={output:function(e){return Math.max(0,e)},derivative:function(e){return e>0?1:0}},A.TANH={output:function(e){return Math.tanh(e)},derivative:function(e){var t=A.TANH.output(e);return 1-t*t}};var C=function e(){Object(w.a)(this,e)};C.SQUARE={cost:function(e,t){return.5*Math.pow(e-t,2)},derivative:function(e,t){return e-t}};var S=function e(t,n,i){Object(w.a)(this,e),this.source=void 0,this.dest=void 0,this.weight=void 0,this.costDer=void 0,this.derAcc=void 0,this.noAccDers=void 0,this.source=t,this.dest=n,this.weight=i||Math.random()-.5,this.costDer=0,this.derAcc=0,this.noAccDers=0};function I(e,t){var n=e.length,i=e[0],a=e[n-1];if(i.length!==t.length)throw new Error("Then number of inputs should equal the number of input neurons");for(var r=0;r<i.length;r++){i[r].output=t[r]}for(var o=1;o<n;o++)for(var c=e[o],s=0;s<c.length;s++){c[s].updateOutput()}return a[0].output}function B(e,t,n){var i=e[e.length-1][0];i.outputDerivative=t.derivative(i.output,n);for(var a=e.length-1;a>0;a--){for(var r=e[a],o=0;o<r.length;o++){var c=r[o];c.inputDerivative=c.outputDerivative*c.activationFunction.derivative(c.totalInput),c.accInputDererivatives+=c.inputDerivative,c.numInputDerivatives++}for(var s=0;s<r.length;s++)for(var u=r[s],l=0;l<u.linksIn.length;l++){var d=u.linksIn[l];d.costDer=d.source.output*u.inputDerivative,d.derAcc+=d.costDer,d.noAccDers++}if(1!==a)for(var h=e[a-1],f=0;f<h.length;f++){var b=h[f];b.outputDerivative=0;for(var j=0;j<b.linksOut.length;j++){var g=b.linksOut[j];b.outputDerivative+=g.dest.inputDerivative*g.weight}}}}function E(e,t){for(var n=1;n<e.length;n++)for(var i=e[n],a=0;a<i.length;a++){for(var r=i[a],o=0;o<r.linksIn.length;o++){var c=r.linksIn[o];if(c.noAccDers>0){var s=c.derAcc/c.noAccDers;c.weight=c.weight-t*s,c.derAcc=0,c.noAccDers=0}}if(r.numInputDerivatives>0){var u=r.accInputDererivatives/r.numInputDerivatives;r.bias=r.bias-t*u,r.accInputDererivatives=0,r.numInputDerivatives=0}}}function D(e,t,n){for(var i=n?1:0;i<e.length;i++)for(var a=e[i],r=0;r<a.length;r++)t(a[r])}function z(e){return e[e.length-1][0]}var R=function e(){Object(w.a)(this,e)};function L(e,t){var n,i,a,r;e=e||0,t=t||1;do{r=(n=2*Math.random()-1)*n+(i=2*Math.random()-1)*i}while(r>1);return a=Math.sqrt(-2*Math.log(r)/r)*n,e+Math.sqrt(t)*a}function T(e){for(var t,n,i=e.length;0!==i;)n=Math.floor(Math.random()*i),t=e[i-=1],e[i]=e[n],e[n]=t;return e}var N={Tanh:A.TANH,ReLU:A.RELU,Sigmoid:A.SIGMOID},F=(R.GAUSSIAN_2=function(e,t){var n=g.j().domain([0,.5]).range([.5,4])(t)||0,i=[];function a(t,a,r){for(var o=0;o<e/2;o++){var c=L(t,n),s=L(a,n);i.push({x1:c,x2:s,y:r})}}return a(-3,-3,-1),a(3,3,1),T(i)},R.GAUSSIAN_3=function(e,t){var n=g.j().domain([0,.5]).range([.5,4])(t)||0,i=[];function a(t,a,r){for(var o=0;o<e/3;o++){var c=L(t,n),s=L(a,n);i.push({x1:c,x2:s,y:r})}}return a(-4,-4,-1),a(0,0,1),a(4,4,-1),T(i)},R.XOR=function(e,t){var n=g.j().domain([0,1]).range([-.5,.5]),i=[];function a(a,r,o,c,s){for(var u=g.j().domain([0,1]).range([a-o/2,a+o/2]),l=g.j().domain([0,1]).range([r-c/2,r+c/2]),d=0;d<e/4;d++){var h=u(Math.random()+(n(Math.random())||0)*t)||0,f=l(Math.random()+(n(Math.random())||0)*t)||0;i.push({x1:h,x2:f,y:s})}}return a(-4,4,8,8,1),a(4,4,8,8,-1),a(-4,-4,8,8,-1),a(4,-4,8,8,1),T(i)},{x:{f:function(e,t){return e},label:"X_1"},y:{f:function(e,t){return t},label:"X_2"},xSquared:{f:function(e,t){return e*e},label:"X_1^2"},ySquared:{f:function(e,t){return t*t},label:"X_2^2"},xTimesY:{f:function(e,t){return e*t},label:"X_1X_2"},sinX:{f:function(e,t){return Math.sin(e)},label:"sin(X_1)"},sinY:{f:function(e,t){return Math.sin(t)},label:"sin(X_2)"}});function W(e){var t=function(e,t,n,i){var a=e.length,r=[],o=[];Object.keys(i).forEach((function(e){i[e]&&o.push(e)}));for(var c=1,s=0;s<a;s++){var u=[];r.push(u);for(var l=e[s],d=0===s,h=0;h<l;h++){var f=d?o[h]:(c++).toString(),b=new k(f,s===a-1&&0===h?n:t);if(u.push(b),!d)for(var j=r[s-1],g=0;g<j.length;g++){var x=j[g],p=new S(x,b);x.linksOut.push(p),b.linksIn.push(p)}}}return r}(e.networkShape,N[e.activationFunction],A.TANH,e.inputs);return console.log(t),t}function P(e,t,n){var i=[];for(var a in F)n[a]&&i.push(F[a].f(e,t));return i}function G(e,t,n,i,a){for(var r=0;r<t.length;r++){var o=t[r];I(e,P(o.x1,o.x2,i)),B(e,C.SQUARE,o.y),(r+1)%a===0&&E(e,n)}return e}function M(e,t,n){for(var i=0,a=0;a<t.length;a++){var r=t[a];i+=C.SQUARE.cost(I(e,P(r.x1,r.x2,n)),r.y)}return i/t.length}var X=function(e){var t=Object(a.useContext)(l),n=t.minColour,r=t.midColour,o=t.maxColour,c=Object(a.useRef)(null);Object(a.useEffect)((function(){s()}),[e.decisionBoundary,e.discreetBoundary]);var s=function(){var t=Date.now(),i=g.j().domain([0,.5,1]).range(e.disabled?["#606060","#FFFFFF","#202020"]:[n,r,o]).clamp(!0),a=e.numShades||100,s=g.h(0,1+1e-9,1/a).map((function(e){return i(e)||0})),u=g.k().domain([-1,1]).range(s),l=c.current,d=null===l||void 0===l?void 0:l.getContext("2d");if(e.decisionBoundary&&d){var h=d.createImageData(e.numCells,e.numCells);if(h){for(var f=h.data,b=-1,j=0;j<e.decisionBoundary.length;j++){var x=e.decisionBoundary[j];e.discreetBoundary&&(x=x>0?1:-1);var p=g.i(u(x));f[++b]=p.r,f[++b]=p.g,f[++b]=p.b,f[++b]=200}d.putImageData(h,0,0);Date.now()}}};return Object(i.jsx)("canvas",{ref:c,id:e.id,className:"background",width:e.numCells,height:e.numCells,style:{width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),paddingLeft:"".concat(e.padding&&e.paddingLeft?e.paddingLeft:"0","px"),paddingRight:"".concat(e.padding&&e.paddingRight?e.paddingRight:"0","px"),paddingTop:"".concat(e.padding&&e.paddingTop?e.paddingTop:"0","px"),paddingBottom:"".concat(e.padding&&e.paddingBottom?e.paddingBottom:"0","px")}})};var Q=function(e){var t=Object(a.useContext)(l),n=t.minColour,r=t.maxColour,o=Object(a.useRef)(null),c=Object(a.useState)(!1),u=Object(s.a)(c,2),d=u[0],h=u[1],f=e.canvasWidth/16,b=function(){console.log("NNGraph init"),j(),h(!0)};Object(a.useEffect)((function(){console.log("NNGraph inital useEffect"),b()}),[]),Object(a.useEffect)((function(){console.log("props and props.decisionboundary NNGraph useEffect"),d?p():b()}),[e.decisionBoundary,e.dataset]);var j=function(){console.log("Creating graph"),g.l(o.currnet).attr("width",e.canvasWidth+e.marginLeft+e.marginRight).attr("height",e.canvasWidth+e.marginTop+e.marginBottom)},x=function(e,t){if(/[_^]/.test(e)){for(var n,i,a=/(.*?)([_^])(.)/g;null!=(n=a.exec(e));){i=a.lastIndex;var r=n[1],o=n[2],c=n[3];r&&t.append("tspan").text(r),t.append("tspan").attr("baseline-shift","_"===o?"sub":"super").style("font-size","9px").text(c)}i&&e.substring(i)&&t.append("tspan").text(e.substring(i))}else t.append("tspan").text(e)},p=function(){console.log("Updating graph");var t=g.l(o.current);t.selectAll(".graph").remove();var i=t.append("g").attr("class","graph").attr("transform","translate(".concat(e.marginLeft,", ").concat(e.marginTop,")")),a=g.j().range([0,e.canvasWidth]),c=g.j().range([e.canvasWidth,0]);a.domain([-8,8]),c.domain([-8,8]),i.append("g").attr("class","axis").attr("transform","translate(0,".concat(e.canvasWidth,")")).call(g.a(a).tickValues([0].concat(a.ticks()))),i.append("g").attr("class","axis").call(g.b(c).tickValues([0].concat(c.ticks()))),i.append("g").attr("class","axis").attr("transform","translate(".concat(e.canvasWidth,",0)")).call(g.c(c).tickValues([0].concat(c.ticks()))),i.append("g").attr("class","axis").call(g.d(a).tickValues([0].concat(a.ticks())));var s=i.append("text").attr("class","axis").attr("x",e.canvasWidth/2).attr("y",e.canvasWidth+e.marginBottom-7).attr("text-anchor","middle").attr("alignment-baseline","bottom");x("X_1",s);var u=i.append("text").attr("class","axis").attr("y",e.canvasWidth/2).attr("x",-e.marginLeft).attr("text-anchor","left").attr("alignment-baseline","middle");x("X_2",u);var l=e.dataset.filter((function(e){return e.x1>=a.domain()[0]&&e.x1<=a.domain()[1]&&e.x2>=c.domain()[0]&&e.x2<=c.domain()[1]}));i.selectAll(".circle").data(l).enter().append("circle").attr("class","circle").attr("r",f/7).attr("fill",(function(e){var t="black";return 1===e.y&&(t=r),-1===e.y&&(t=n),t})).style("stroke","black").attr("cx",(function(t){return t.x1*f+e.canvasWidth/2})).attr("cy",(function(t){return-t.x2*f+e.canvasWidth/2}))};return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{style:{position:"relative"},children:[Object(i.jsx)("svg",{ref:o,width:e.canvasWidth+e.marginLeft+e.marginRight,height:e.canvasWidth+e.marginTop+e.marginBottom,style:{position:"absolute"}}),Object(i.jsx)(X,{width:e.canvasWidth,height:e.canvasWidth,numCells:e.numCells,paddingLeft:e.marginLeft,paddingRight:e.marginRight,paddingTop:e.marginTop,paddingBottom:e.marginBottom,disabled:!1,padding:!0,decisionBoundary:e.decisionBoundary,discreetBoundary:e.discreetBoundary})]})})},U=n(480),H=n(487),V=n(479),_=n(3),J=n(490),K=n(478);function q(){var e=Object(u.a)(["\n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n    -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n    box-sizing: border-box; \n\n    margin-right: ",";\n    margin-left: ",";\n\n"]);return q=function(){return e},e}function Y(){var e=Object(u.a)(["\n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n    -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n    box-sizing: border-box; \n    width: 20px;\n    height: 20px;\n    color: #505050;\n    padding: 10px;\n    \n    margin: auto 0px;\n    border-radius: 100%;\n    &:hover {\n        background-color: inherit;\n    }\n\n"]);return Y=function(){return e},e}var Z=Object(h.a)(f.a)(Y()),$=Object(h.a)(J.a)(q(),(function(e){return"".concat(e.marginRight,"px")}),(function(e){return"".concat(e.marginLeft,"px")})),ee=function(e){var t=e.marginLeft,n=void 0===t?10:t,a=e.marginRight,r=void 0===a?10:a,o=Object(_.a)(e,["marginLeft","marginRight"]);return Object(i.jsx)($,{interactive:!0,arrow:!0,title:o.children||o.title,onClick:function(){return o.onClick&&o.infoPanel&&o.onClick(o.infoPanel)},marginLeft:n,marginRight:r,children:Object(i.jsx)(Z,{children:o.icon||Object(i.jsx)(K.a,{fontSize:o.fontSize})})})},te=n(484),ne=n(486);function ie(){var e=Object(u.a)(["\n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n    -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n    box-sizing: border-box;\n    //border: 2px solid ",";\n    border: 2px solid black;\n    //background-color: black;\n    background-color: white;\n    border-radius: 3px;\n    max-height: ","px;\n    cursor: pointer;\n"]);return ie=function(){return e},e}var ae=Object(h.a)("div")(ie(),(function(e){return e.active?"#000000":"#505050"}),(function(e){return e.nodeWidth+4}));var re=function(e){return Object(i.jsx)(ae,{id:"".concat(e.id),nodeWidth:e.nodeWidth,active:e.active,onClick:function(){return e.handleOnClick&&e.nodeId&&e.handleOnClick(e.nodeId,e.active)},onMouseOver:function(){return e.handleOnHover&&e.nodeId&&e.handleOnHover(e.nodeId,e.active)},children:Object(i.jsx)(X,{width:e.nodeWidth,height:e.nodeWidth,numCells:e.numCells,padding:!1,disabled:!e.active,decisionBoundary:e.decisionBoundary,discreetBoundary:e.discreetBoundary})})},oe=n(115),ce=n.n(oe),se=n(114),ue=n.n(se);function le(){var e=Object(u.a)(["\n    text-decoration: underline;\n    color: blue;\n    cursor: pointer;\n"]);return le=function(){return e},e}function de(){var e=Object(u.a)(["\n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n    -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n    box-sizing: border-box; \n\n"]);return de=function(){return e},e}var he=Object(h.a)(J.a)(de()),fe=Object(h.a)("a")(le());function be(e){return Object(i.jsx)(he,{interactive:!0,arrow:!0,title:e.definition,onClick:function(){return e.onClick&&e.infoPanel&&e.onClick(e.infoPanel)},children:Object(i.jsx)(fe,{children:e.children})})}function je(){return Object(i.jsxs)(V.a,{variant:"body2",children:["X",Object(i.jsx)("sub",{children:"1"})," represents the first feature of a datapoint that is being entered into the neural network (shown on the X axis of the nodes in the neural network and the output graph).",Object(i.jsx)("br",{}),"Domain of X",Object(i.jsx)("sub",{children:"1"})," shown in the neural network is -8 to +8."]})}function ge(){return Object(i.jsxs)(V.a,{variant:"body2",children:["X",Object(i.jsx)("sub",{children:"2"})," represents the second feature of a datapoint that is being entered into the neural network (shown on the Y axis of the nodes in the neural network and the output graph).",Object(i.jsx)("br",{}),"Domain of X",Object(i.jsx)("sub",{children:"2"})," shown in the neural network is -8 to +8."]})}var xe,pe=function(e){var t=e.offsetX,n=void 0===t?0:t,r=e.offsetY,o=void 0===r?0:r,c=Object(_.a)(e,["offsetX","offsetY"]),u=Object(m.a)({offsetX:n,offsetY:o},c),l=Object(a.useState)({x:0,y:0}),d=Object(s.a)(l,2),h=d[0],f=d[1],b=Object(a.useState)(!1),j=Object(s.a)(b,2),g=j[0],x=j[1],p=Object(a.useState)(!1),v=Object(s.a)(p,2),O=v[0],w=v[1];Object(a.useEffect)((function(){return k(),function(){A()}}),[]),Object(a.useEffect)((function(){!O&&u.visible&&k(),O&&!u.visible&&A()}),[u.visible,g]);var y=function(e){f({x:e.clientX,y:e.clientY}),x(!0)},k=function(){window.addEventListener("mousemove",y),w(!0)},A=function(){window.removeEventListener("mousemove",y),w(!1)};return Object(i.jsx)("div",{className:u.className,style:Object(m.a)({display:u.visible&&g?"block":"none",position:"fixed",top:h.y+u.offsetY,left:h.x+u.offsetX},u.style),children:u.children})};function ve(){var e=Object(u.a)(["\n    position: absolute;\n    background-color: white;\n    border-radius: 30px;\n\n    ","\n    ","\n"]);return ve=function(){return e},e}function Oe(){var e=Object(u.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    align-items: center;\n"]);return Oe=function(){return e},e}function me(){var e=Object(u.a)(["\n    grid-area: ",";\n"]);return me=function(){return e},e}function we(){var e=Object(u.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    align-items: center;\n"]);return we=function(){return e},e}function ye(){var e=Object(u.a)(["\n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n    -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    padding-left: 50px;\n    padding-right: 0px;\n    width: 100%;\n    height: inherit;\n"]);return ye=function(){return e},e}function ke(){var e=Object(u.a)(['\n    position: relative;\n    display: grid;\n    height: 100%;\n    width: 50vw;\n    /* max-width: 40vw; */\n    min-width: 550px;\n    grid-template-columns: auto 1fr auto;\n    grid-template-rows: auto 1fr 48px;\n    grid-gap: 0px;\n    grid-template-areas: \n        "inputs-label layer-controls ."\n        "inputs-layer hidden-layers output"\n        ". hidden-layers ."\n        ;\n']);return ke=function(){return e},e}function Ae(){var e=Object(u.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    align-self: flex-start;\n"]);return Ae=function(){return e},e}function Ce(){var e=Object(u.a)(["\n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n    -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n    box-sizing: border-box; \n    background-color: white;\n    margin: auto auto;\n    border-radius: 10px;\n    border: 2px solid #bdbdbd;\n    //border: 2px solid #353a3c;\n    width: 120px;\n    height: 60px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    z-index: 10000;\n    /* position: absolute; */\n    /* position: static; */\n"]);return Ce=function(){return e},e}!function(e){e[e.BIAS=0]="BIAS",e[e.WEIGHT=1]="WEIGHT"}(xe||(xe={}));var Se=Object(h.a)("div")(Ce()),Ie=Object(h.a)("div")(Ae()),Be=Object(h.a)("div")(ke()),Ee=Object(h.a)("div")(ye()),De=Object(h.a)("div")(we()),ze=Object(h.a)("div")(me(),(function(e){return e.gridArea})),Re=Object(h.a)((function(e){return Object(i.jsx)(ze,Object(m.a)({gridArea:"layer-controls"},e))}))(Oe()),Le=Object(h.a)("canvas")(ve(),(function(e){return e.visible&&"\n    transition: opacity 1.1s;\n    "}),(function(e){return!e.visible&&"\n    transition: opacity 0.1s;\n    "}));var Te=function(e){var t=Object(a.useContext)(l),n=t.minColour,o=t.maxColour,c=Object(a.useRef)(null),u=Object(a.useRef)(null),d=30,h=Object(a.useState)(!1),b=Object(s.a)(h,2),j=b[0],x=b[1],p=Object(a.useState)(),v=Object(s.a)(p,2),O=v[0],m=v[1],w=Object(a.useState)(!1),y=Object(s.a)(w,2),k=y[0],A=y[1],C=Object(a.useState)({top:0,left:0,x:0,y:0,width:0,height:0}),S=Object(s.a)(C,2),I=S[0],B=S[1],E=Object(a.useState)(!1),D=Object(s.a)(E,2),z=D[0],R=D[1],L=Object(a.useState)({type:xe.WEIGHT,value:0}),T=Object(s.a)(L,2),N=T[0],W=T[1],P=Object(a.useState)(""),G=Object(s.a)(P,2),M=G[0],X=G[1];Object(a.useEffect)((function(){K();var e=document.getElementById("main-container");return e&&(window.addEventListener("resize",K),e.addEventListener("scroll",K)),function(){e&&(window.removeEventListener("resize",K),e.removeEventListener("scroll",K))}}),[]);var Q=function(t){var n=t.target.id;!n||-1===n.indexOf("link")&&-1===n.indexOf("node")||n.substring(5)in e.inputs||(X(n),R(!0))},U=function(e){var t=e.target.id;!t||-1===t.indexOf("link")&&-1===t.indexOf("node")||(X(""),R(!1))};Object(a.useEffect)((function(){return x(!1),m(e.network),document.addEventListener("mouseenter",Q,!0),document.addEventListener("mouseleave",U,!0),function(){document.removeEventListener("mouseenter",Q,!0),document.removeEventListener("mouseleave",U,!0)}}),[e.network,e.inputs]),Object(a.useEffect)((function(){H(e.network),K()}),[e.decisionBoundaries]),Object(a.useEffect)((function(){H(e.network)}),[I]),Object(a.useEffect)((function(){if(""!==M)if(-1===M.indexOf("link")){var e=q(M);e&&W({type:xe.BIAS,value:e.bias})}else{var t=Y(M);t&&W({type:xe.WEIGHT,value:t.weight})}}),[M,e.decisionBoundaries]);var H=function(e){console.log("Draw Links");var t=Date.now();g.m(".link").remove();var n=_(e);if(n){for(var i=0,a=0;a<e.length;a++)for(var r=e[a],o=0;o<r.length;o++)for(var s=r[o],u=0;u<s.linksOut.length;u++){J(s.linksOut[u],n),i++}k||function(e){console.log("Draw Labels");var t=Object.keys(F),n=!1,i=g.l(c.current);i.selectAll(".input-label").remove(),t.forEach((function(t){var a=e[t];if(a){var r=null!=F[t].label?F[t].label:t,o=i.append("text").attr("class","input-label").attr("x",a.cx-17).attr("y",a.cy+7.5).attr("text-anchor","end").attr("alignment-baseline","middle");if(/[_^]/.test(r)){for(var c,s,u=/(.*?)([_^])(.)/g;null!=(c=u.exec(r));){s=u.lastIndex;var l=c[1],d=c[2],h=c[3];l&&o.append("tspan").text(l),o.append("tspan").attr("baseline-shift","_"===d?"sub":"super").style("font-size","9px").text(h)}s&&r.substring(s)&&o.append("tspan").text(r.substring(s))}else o.append("tspan").text(r)}else n=!0})),n||A(!0)}(n),x(!0);var l=Date.now()-t;console.log("Finished drawing links (Links Drawn: ".concat(i,") (Duration: ").concat(l,"ms)"))}},_=function(e){var t=u.current;if(!e||!t)return null;for(var n={},i=(t.offsetLeft,t.offsetTop,0);i<e.length;i++){var a=e[i];if(0===i){Object.keys(F).forEach((function(e){var t=document.getElementById("node-".concat(e));t&&(n[e]={cx:t.offsetLeft+15,cy:t.offsetTop+15})}))}else for(var r=0;r<a.length;r++){var o=a[r],c=document.getElementById("node-".concat(o.id));c&&(n[o.id]={cx:c.offsetLeft+15,cy:c.offsetTop+15})}}return n};function J(e,t){var i=g.l(c.current).append("path"),a=t[e.source.id],r=t[e.dest.id];if(r&&a){var s={source:[a.cx+15+2,a.cy],target:[r.cx-15,r.cy]},u=g.g().x((function(e){return e[0]})).y((function(e){return e[1]}))(s),l=function(e){var t=g.j().domain([-1,0,1]).range([6,1.5,6]).clamp(!0);return{color:e.weight>0?o:n,size:t(e.weight)}}(e);return u&&i.attr("marker-start","url(#markerArrow)").attr("class","link").attr("id","link-".concat(e.source.id,"-").concat(e.dest.id)).attr("d",u).attr("fill","transparent").attr("pointer-events","all").attr("stroke",l.color).attr("stroke-width",l.size||0).attr("stroke-dasharray","10,2").on("mouseover",(function(e,t){g.l(this).transition().duration(1e5).ease(g.e).attr("stroke-dashoffset",-8e3)})).on("mouseout",(function(e,t){g.l(this).transition()})),i}}var K=function(){var e=u.current;if(e){var t=e.getBoundingClientRect();B({left:-t.x,top:-t.y,x:t.x,y:t.y,width:t.width,height:t.height})}},q=function(t){if(!e.network)return null;for(var n=t.substring(5),i=0;i<e.network.length;i++)for(var a=0;a<e.network[i].length;a++){var r=e.network[i][a];if(r.id===n)return r}},Y=function(t){if(!e.network)return null;var n=t.split("-"),i=n[1],a=n[2],r=q("node-"+i);if(!r)return null;for(var o=0;o<r.linksOut.length;o++){var c=r.linksOut[o];if(c.dest.id===a)return c}return null};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(Be,{style:{overflow:"hidden"},ref:u,children:[Object(i.jsx)("svg",{ref:c,width:I.width,height:I.height,style:{position:"absolute",pointerEvents:"none"},id:"lines-container"}),!O||!j&&Object(i.jsx)(Le,{visible:!0,width:I.width,height:I.height}),Object(i.jsxs)("div",{style:{paddingTop:"10px",paddingLeft:"30px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gridArea:"inputs-label"},children:[Object(i.jsx)(V.a,{children:"Inputs"}),Object(i.jsx)(Qt,{title:"Inputs Tooltip",fontSize:"small",marginRight:0,marginLeft:5,children:Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(V.a,{color:"inherit",children:"Inputs"}),Object(i.jsxs)(V.a,{variant:"body2",children:["The inputs determine the data that is input into the neural network from the data set. Each input is a function of ",Object(i.jsxs)(be,{definition:je(),children:["X",Object(i.jsx)("sub",{children:"1"})]})," and/or ",Object(i.jsxs)(be,{definition:ge(),children:["X",Object(i.jsx)("sub",{children:"2"})]}),"."]})]})})]}),Object(i.jsxs)(Re,{children:[Object(i.jsx)(f.a,{onClick:e.removeLayer,children:Object(i.jsx)(ue.a,{})}),Object(i.jsxs)(V.a,{children:[" Hidden Layers: ",e.config.networkShape.length-2]}),Object(i.jsx)(f.a,{onClick:e.addLayer,children:Object(i.jsx)(ce.a,{})})]}),Object(i.jsx)(Ee,{style:{gridArea:"inputs-layer",paddingLeft:"60px"},children:Object(i.jsx)(De,{children:O&&Object.keys(F).map((function(t){return Object(i.jsx)(re,{id:"node-".concat(t),nodeId:t,active:e.inputs[t],nodeWidth:d,numCells:20,decisionBoundary:e.decisionBoundaries[t],discreetBoundary:e.discreetBoundary,handleOnClick:e.handleOnClick})}))})}),Object(i.jsx)(Ee,{style:{width:"100%",height:"100%",paddingLeft:"0px",justifyContent:"space-around",gridArea:"hidden-layers"},children:O&&O.slice(1,O.length-1).map((function(t,n){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(i.jsx)(De,{style:{flexGrow:1},children:t.map((function(t){return Object(i.jsx)(re,{id:"node-".concat(t.id),nodeWidth:d,numCells:20,active:!0,decisionBoundary:e.decisionBoundaries[t.id],discreetBoundary:e.discreetBoundary})}))}),n!==O.length-2&&Object(i.jsxs)(Ie,{style:{flexGrow:0},children:[Object(i.jsx)(f.a,{onClick:function(){return e.removeNode(n+1)},children:Object(i.jsx)(ue.a,{})}),Object(i.jsx)(f.a,{onClick:function(){return e.addNode(n+1)},children:Object(i.jsx)(ce.a,{})})]})]})}))}),Object(i.jsx)(Ee,{style:{width:"100%",height:"100%",paddingLeft:"0px",gridArea:"output",paddingRight:"10px"},children:O&&O.slice(O.length-1).map((function(t,n){return Object(i.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(i.jsx)(De,{style:{flexGrow:1},children:t.map((function(t){return Object(i.jsx)(re,{id:"node-".concat(t.id),nodeWidth:d,numCells:20,active:!0,decisionBoundary:e.decisionBoundaries[t.id],discreetBoundary:e.discreetBoundary})}))})})}))})]}),Object(i.jsx)(pe,{visible:z,style:{pointerEvents:"none"},children:Object(i.jsxs)(Se,{children:[N.type===xe.WEIGHT&&Object(i.jsxs)("p",{children:["Weight: ",N.value.toFixed(3)]}),N.type===xe.BIAS&&Object(i.jsxs)("p",{children:["Bias: ",N.value.toFixed(3)]})]})})]})};var Ne=function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Loss"}),Object(i.jsx)("p",{})]})};var Fe=function(e){var t=Object(a.useRef)(null),n=Object(a.useRef)(null),r=e.horizontal?8:20,o=e.horizontal?20:4;Object(a.useEffect)((function(){c()}),[]);var c=function(){var i=g.l(t.current).attr("width",e.width+r+8).attr("height",e.height+o+4);i.selectAll("*").remove();var a=g.j().domain([-1,1]).range(e.horizontal?[0,e.width-1]:[e.height-1,0]),c=i.append("g").attr("transform","translate(".concat(r,", ").concat(4,")"));c.append("g").attr("transform","translate(0,".concat(e.horizontal?e.height:0,")")).call((e.horizontal?g.a(a):g.b(a)).tickValues([0].concat(a.ticks(2))).tickSize(3));var s=g.j().domain([0,.5,1]).range([e.minColour,e.midColour,e.maxColour]).clamp(!0),u=e.numShades||100,l=g.h(0,1+1e-9,1/u).map((function(e){return s(e)||0})),d=g.k().domain(e.horizontal?[0,e.width]:[0,e.height]).range(l),h=n.current,f=null===h||void 0===h?void 0:h.getContext("2d");if(f){var b=e.horizontal?e.width:1,j=e.horizontal?1:e.height,x=f.createImageData(b,j);if(x){for(var p=x.data,v=-1,O=e.horizontal?0:e.height;e.horizontal?O<=e.width:O>=0;e.horizontal?O++:O--){var m=g.i(d(O));p[++v]=m.r,p[++v]=m.g,p[++v]=m.b,p[++v]=200}f.putImageData(x,0,0),c.select(".domain").attr("opacity","0")}}};return Object(i.jsxs)("div",{style:{position:"relative"},children:[Object(i.jsx)("svg",{ref:t,width:e.width+r,height:e.height+o+4,style:{position:"absolute"}}),Object(i.jsx)("canvas",{ref:n,width:e.horizontal?e.width:1,height:e.horizontal?1:e.height,style:{width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),paddingLeft:"".concat(r,"px"),paddingTop:"".concat(4,"px"),paddingRight:"".concat(8,"px"),paddingBottom:"".concat(o,"px")}})]})},We={networkShape:[2,2,2,1],activationFunction:"Tanh",learningRate:.03,inputs:{x:!0,y:!0,xSquared:!1,ySquared:!1,xTimesY:!1,sinX:!1,sinY:!1},batchSize:10,datasetType:"Gaussian2",numSamples:100,noise:.2},Pe={compareMode:!1,decisionBoundaries:{},decisionBoundary:[]};function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pe,n=Object(a.useState)(e),i=Object(s.a)(n,2),r=i[0],o=i[1],c=Object(a.useState)(),u=Object(s.a)(c,2),l=u[0],d=u[1],h=Object(a.useState)(t),f=Object(s.a)(h,2),b=f[0],j=(f[1],Object(a.useState)(!1)),g=Object(s.a)(j,2);g[0],g[1];Object(a.useEffect)((function(){console.log("Config change useEffect"),I()}),[r]);var x=function(){console.log("Generating network"),d(W(r))},p=function(e){o((function(t){return Object(m.a)(Object(m.a)({},t),{},{activationFunction:e})}))},v=function(e){o((function(t){return Object(m.a)(Object(m.a)({},t),{},{learningRate:e})}))},O=function(e){o((function(t){return Object(m.a)(Object(m.a)({},t),{},{batchSize:e})}))},w=function(e,t){o((function(n){var i=n.inputs,a=n.networkShape;if(t){var o=0;if(Object.keys(r.inputs).forEach((function(e){r.inputs[e]&&o++})),!(o>1))return n;i[e]=!1,a[0]=a[0]-1}else i[e]=!0,a[0]=a[0]+1;return Object(m.a)(Object(m.a)({},n),{},{inputs:i,networkShape:a})}))},y=function(e){console.log("Running addNode"),o((function(t){var n=t.networkShape;t.networkShape[e]<5&&(t.networkShape[e]=t.networkShape[e]+1);return Object(m.a)(Object(m.a)({},t),{},{networkShape:n})}))},k=function(e){console.log("Running removeNode"),o((function(t){return r.networkShape[e]>1&&(t.networkShape[e]=t.networkShape[e]-1),Object(m.a)(Object(m.a)({},t),{},{networkShape:t.networkShape})}))},A=function(){console.log("Running addLayer"),o((function(e){var t=e.networkShape;return t.length<6&&(t.pop(),t.push(t[t.length-1]),t.push(1)),Object(m.a)(Object(m.a)({},e),{},{networkShape:t})}))},C=function(){console.log("Running removeLayer"),o((function(e){var t=e.networkShape;return t.length>2&&(t.pop(),t.pop(),t.push(1)),Object(m.a)(Object(m.a)({},e),{},{networkShape:t})}))},S=function(e){d((function(t){return console.log("Running step insid netowrk controller"),console.log(t),t?(console.log("here"),G(t,e,r.learningRate,r.inputs,r.batchSize)):t}))},I=function(){x()};return{nnConfig:r,state:b,network:l,setActivationFunction:p,setLearningRate:v,setBatchSize:O,step:S,reset:I,toggleInputNode:w,addNode:y,removeNode:k,addLayer:A,removeLayer:C}}var Me=function(){var e=Object(a.useContext)(l),t=e.minColourName,n=e.maxColourName;return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"How To Get Started"}),Object(i.jsx)("p",{children:"This is a tool that lets you play with a simple neural network implementation. Below are instructions on how to get started designing your own neural network and test it's performance."}),Object(i.jsx)("h2",{children:"Neural Network"}),Object(i.jsx)("h3",{children:"Links"}),Object(i.jsx)("p",{children:"Links (or edges) connect neurons in adjacent layers, each link has a weight value w that is updated by training the network using Gradient Decent."}),Object(i.jsx)("h4",{children:"Magnitude"}),Object(i.jsx)("p",{children:"The width of a link corresponds to the absolute magnitude of it's weight. Wider links have greater absolute weight values (and therefore have a stronger influence in the destination node) than narrower links."}),Object(i.jsx)("h4",{children:"Positive Value Link"}),Object(i.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAT8AAAA1CAYAAAA3Sux5AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFtSURBVHhe7d2xTcNAGIbhM5sABQxCzwxQwAZhBtgACmaAGragIUVAyiLGRieBrODyYvQ9T5Nz98t3eiVLJ6XrBwUgzEH9BYgifkAk8QMiiR8QSfyASOIHRBI/IJL4AZHED4gkfkAk8QMiiR8QSfyASOIHRBI/IJL4AZHED4gkfkAk8QMiiR8QSfyASF3/8tT+39vOzuti4vW5Lho7PCnl+LQ+/LKveZb2fswzb9c8m/dSPtf1obH/MM9oz/vV9auL9vG7fayLiZvLumjsarU7fvd3pXwMh6a1pb0f8/ztaDg318P5mRpj8zCcn9aWNs9oofvlsxeIJH5AJPEDIokfEEn8gEjiB0QSPyCSS84jl5znmWfernlccv6x0P3q+sH3CiCIz14gkvgBkcQPiCR+QCTxAyKJHxBJ/IBI4gdEEj8gkvgBkcQPiCR+QCTxAyKJHxBJ/IBI4gdEEj8gkvgBkcQPyLPdiB8QaP1WvgBj/FW9pIttHAAAAABJRU5ErkJggg==",alt:"Positive link",width:100}),Object(i.jsxs)("p",{children:["Links with a weight value > 0 are ",n,"."]}),Object(i.jsx)("h4",{children:"Negative Value Link"}),Object(i.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUEAAAAuCAYAAAC226sKAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFcSURBVHhe7dwxSsRAGIbh0YsoeIMtZDvvoWBlZaE3sPAGWlhZCR7EbrXYGwh6Es1mZwnIJmUS+Z6n2STVz0x4ITDswU+jAIQ6rL8AkUQQiCaCQDQRBKKJIBBNBIFoIghEE0EgmggC0UQQiCaCQDQRBKKJIBBNBIFoIghEE0EgmggC0dp/ln58fqu34zpdHJXl4rjedaaaZ+Pm6qxedcyzNbf9Ms+wfe/Oav1VPtbf9W5cc92vNoLn1y/lvVmcsb0+Xe5dlKnmuW1emr7oPEywUX3z2K+t/zLPyfK+Xo3rc3VXrzqbCF406zOFua3Pbh6fw0A0EQSiiSAQTQSBaCIIRBNBIJoIAtEclv7DYel+DicPm9s8DksP283TRrA+A4jjcxiIJoJANBEEookgEE0EgWgiCEQTQSCaCALRRBCIJoJANBEEookgEE0EgWgiCEQTQSCaCALRRBAIVsov/YKARCqVXtEAAAAASUVORK5CYII=",alt:"Negative link",width:100}),Object(i.jsxs)("p",{children:["Links with a weight value < 0 are ",t,"."]}),Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:"Fix history functionality"}),Object(i.jsx)("li",{children:"Node representation"}),Object(i.jsx)("li",{children:"Link representation"}),Object(i.jsx)("li",{children:"Inputs"}),Object(i.jsx)("li",{children:"Data set"}),Object(i.jsx)("li",{children:"Building network"}),Object(i.jsx)("li",{children:"Training"}),Object(i.jsx)("li",{children:"Comparision func"}),Object(i.jsx)("li",{children:"Tool tips"})]}),Object(i.jsx)("p",{})]})},Xe=Object(a.createContext)({}),Qe=function(e){var t=Object(a.useState)(Ue),n=Object(s.a)(t,2),r=n[0],o=n[1],c=function(e){o((function(t){var n=t.infoPanel,i=t.infoPanelHistory;return i.push(n),{infoPanel:e,infoPanelHistory:i,infoPanelFuture:[]}}))};return Object(i.jsx)(Xe.Provider,{value:{infoPanelData:r,setInfoPanelWrapper:c,handleInfoPanelForward:function(){o((function(e){var t,n=e.infoPanel,i=e.infoPanelHistory,a=e.infoPanelFuture;return 0!==a.length&&(t=a.shift(),i.push(n)),t?{infoPanel:t,infoPanelHistory:i,infoPanelFuture:a}:e}))},handleInfoPanelBackward:function(){o((function(e){var t,n=e.infoPanel,i=e.infoPanelHistory,a=e.infoPanelFuture;return 0!==i.length&&(t=i.pop(),a.unshift(n)),t?{infoPanel:t,infoPanelHistory:i,infoPanelFuture:a}:e}))},handleInfoPanelHome:function(){c(Object(i.jsx)(Me,{}))}},children:e.children})},Ue={infoPanel:Object(i.jsx)(Me,{}),infoPanelHistory:[],infoPanelFuture:[]},He={Gaussian2:R.GAUSSIAN_2,Gaussian3:R.GAUSSIAN_3,XOR:R.XOR},Ve={datasetType:"Gaussian2",noise:.2,numSamples:100};function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=Object(a.useState)(e),n=Object(s.a)(t,2),i=n[0],r=n[1],o=Object(a.useState)([]),c=Object(s.a)(o,2),u=c[0],l=c[1],d=Object(a.useState)([]),h=Object(s.a)(d,2),f=h[0],b=h[1];Object(a.useEffect)((function(){j()}),[i]);var j=function(){console.log("Generating dataset");var e=i.datasetType,t=i.numSamples,n=i.noise,a=(0,He[e])(t,n),r=v(a),o=Object(s.a)(r,2),c=o[0],u=o[1];l(c),b(u)},g=function(e){r((function(t){return Object(m.a)(Object(m.a)({},t),{},{datasetType:e})}))},x=function(e){r((function(t){return Object(m.a)(Object(m.a)({},t),{},{noise:e})}))},p=function(e){r((function(t){return Object(m.a)(Object(m.a)({},t),{},{numSamples:e})}))},v=function(e){var t=Math.floor(.8*e.length);return[e.slice(0,t),e.slice(t,e.length)]};return{dgConfig:i,generateDataset:j,trainingData:u,testData:f,setDatasetType:g,setNoise:x,setNumSamples:p}}var Je=n(492),Ke=n(493),qe=n(481),Ye=n.p+"static/media/Sigmoid-function-2.8e7151dc.svg";var Ze=function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Nodes"}),Object(i.jsx)("p",{children:"Nodes are the individual functions that make up the neural network and are connected to nodes in adjacent layers by links."}),Object(i.jsx)("h2",{children:"Usage"})]})};function $e(){var e=Object(u.a)(["\n    width: 600px;\n"]);return $e=function(){return e},e}var et=Object(h.a)("img")($e());var tt=function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Activation Functions (\u03a6)"}),Object(i.jsxs)("p",{children:["Activation function of a ",Object(i.jsx)(be,{definition:Object(i.jsxs)(V.a,{variant:"body2",children:["Nodes are the individual functions that make up the neural network and are connected to nodes in adjacent layers by links.",Object(i.jsx)("br",{}),Object(i.jsx)("u",{children:"Click the icon to get more information"})]}),onClick:e.setInfoPanel,infoPanel:Object(i.jsx)(Ze,Object(m.a)({},e.config)),children:"node"})]}),Object(i.jsx)("h2",{children:"Sigmoid"}),Object(i.jsx)(et,{src:Ye,alt:"Sigmoid Function"}),Object(i.jsx)("p",{})]})};var nt=function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Datasets"}),Object(i.jsxs)("p",{children:["These are the data sets you can use to train and test your network. All the points in the data sets have 2 features (",Object(i.jsxs)(be,{definition:je(),children:["X",Object(i.jsx)("sub",{children:"1"})]})," and ",Object(i.jsxs)(be,{definition:ge(),children:["X",Object(i.jsx)("sub",{children:"2"})]}),") and fall under one of two classifications (-1 or +1)."]}),Object(i.jsx)("h2",{children:"Gaussian 2"}),Object(i.jsxs)("p",{children:["This data set is comprised of two 2-Dimensional Gaussian (or Normal) distributed sets of points, one for each class.",Object(i.jsx)("br",{}),Object(i.jsx)("a",{href:"https://en.wikipedia.org/wiki/Normal_distribution",target:"_blank",children:"Read more here (Wiki)"})]}),Object(i.jsx)("h2",{children:"Gaussian 3"}),Object(i.jsx)("p",{children:"This data set is comprised of three 2-Dimensional Gaussian (or Normal) distributed sets of points, one group of +1 points and two groups of -1 points."}),Object(i.jsx)("h2",{children:"XOR"}),Object(i.jsxs)("p",{children:["This data set represents an XOR distributed set of points which cannot be classified using a straight line.",Object(i.jsx)("br",{}),Object(i.jsx)("a",{href:"https://www.google.com/search?q=XOR",target:"_blank",children:"Read more here (Google)"})]})]})},it=n(175);function at(){var e=Object(u.a)(["w'=w-epsilonDelta J(x)"],["w'=w-\\epsilon\\Delta J(x)"]);return at=function(){return e},e}var rt=function(e){return Object(i.jsxs)("div",{style:{float:"left"},children:[Object(i.jsx)("h1",{children:"Learning Rate (\u03b5)"}),Object(i.jsx)("p",{children:"The learning rate affects the rate at which the weights and biases change each epoch when training the neural network."}),Object(i.jsx)("h2",{children:"Usage"}),Object(i.jsx)(it.a,{tex:String.raw(at())}),Object(i.jsx)("h2",{children:"Observations"}),Object(i.jsxs)("p",{children:["We observe that ",Object(i.jsx)("b",{children:"smaller"})," learning rates lead to ",Object(i.jsx)("b",{children:"slower learning"})," but ",Object(i.jsx)("b",{children:"more precise decision boundaries "}),"and ",Object(i.jsx)("b",{children:"less fluctuating"})," around the local optima and conversely ",Object(i.jsx)("b",{children:"larger"})," learning rates lead to ",Object(i.jsx)("b",{children:"faster learning "}),"but ",Object(i.jsx)("b",{children:"less precise decision boundaries"})," and ",Object(i.jsx)("b",{children:"more fluctuating"})," around local minima."]}),Object(i.jsx)("h3",{children:"Exercise"}),Object(i.jsx)("p",{children:"Try different different learning rates and see how much the loss is reduced on average after 3 epochs."})]})},ot=n(491);function ct(){var e=Object(u.a)(["\n    width: 110px;\n    padding-left: 10px;\n    padding-right: 10px;\n"]);return ct=function(){return e},e}var st=Object(h.a)("div")(ct());var ut=function(e){var t=Object(a.useState)(e.defaultValue),n=Object(s.a)(t,2),r=n[0],o=n[1];return Object(i.jsxs)(st,{children:[Object(i.jsx)(V.a,{gutterBottom:!0,children:e.label+": "+r}),Object(i.jsx)(ot.a,{defaultValue:e.defaultValue,step:e.step,min:e.min,max:e.max,onChange:function(e,t){o(t)},onChangeCommitted:e.onChange})]})};function lt(){var e=Object(u.a)(["\n    background-color: inherit;\n"]);return lt=function(){return e},e}function dt(){var e=Object(u.a)(["\n    margin-left: 10px;\n    min-width: 130px;\n    background-color: inherit;\n"]);return dt=function(){return e},e}function ht(){var e=Object(u.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: left;\n    padding-left: 30px;\n    padding-top: 10px;\n"]);return ht=function(){return e},e}var ft=Object(h.a)((function(e){return Object(i.jsx)(Wt,Object(m.a)({gridArea:"config-bar"},e))}))(ht()),bt=Object(h.a)(U.a)(dt()),jt=Object(h.a)(H.a)(lt());var gt=function(e){var t=Object(a.useContext)(Xe).setInfoPanelWrapper,n=e.nnConfig,o=e.dgConfig,c=e.setActivationFunction,s=e.setLearningRate,u=e.setDatasetType,l=e.setNoise,d=e.setNumSamples,h=e.setBatchSize;return Object(i.jsxs)(ft,{children:[Object(i.jsxs)(bt,{variant:"filled",children:[Object(i.jsx)(Je.a,{children:"Activation"}),Object(i.jsxs)(jt,{value:n.activationFunction,onChange:function(e){c(e.target.value)},children:[Object(i.jsx)(Ke.a,{value:"Tanh",children:"Tanh"}),Object(i.jsx)(Ke.a,{value:"ReLU",children:"ReLU"}),Object(i.jsx)(Ke.a,{value:"Sigmoid",children:"Sigmoid"})]})]}),Object(i.jsx)(Qt,{title:"Activation Tooltip",onClick:t,infoPanel:Object(i.jsx)(tt,{config:n,setInfoPanel:t}),children:Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(V.a,{color:"inherit",children:"Activation Function (\u03a6)"}),Object(i.jsx)(V.a,{variant:"body2",children:"The activation defines the output of a neuron (node)."}),Object(i.jsx)("br",{}),Object(i.jsx)("u",{children:"Click the icon to get more information"})]})}),Object(i.jsx)(qe.a,{orientation:"vertical",flexItem:!0}),Object(i.jsxs)(bt,{variant:"filled",children:[Object(i.jsx)(Je.a,{children:"Learning Rate"}),Object(i.jsxs)(jt,{value:n.learningRate,onChange:function(e){s(e.target.value)},children:[Object(i.jsx)(Ke.a,{value:"0.03",children:"0.03"}),Object(i.jsx)(Ke.a,{value:"0.005",children:"0.005"})]})]}),Object(i.jsx)(Qt,{title:"Learning Rate Tooltip",onClick:t,infoPanel:Object(i.jsx)(rt,Object(m.a)({},n)),children:Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(V.a,{color:"inherit",children:"Learning Rate (\u03b5)"}),Object(i.jsx)(V.a,{variant:"body2",children:"This affects the rate at which the weights and biases change when training the neural network."}),Object(i.jsx)("br",{}),Object(i.jsx)("u",{children:"Click the icon to get more information"})]})}),Object(i.jsx)(qe.a,{orientation:"vertical",flexItem:!0}),Object(i.jsxs)(bt,{variant:"filled",children:[Object(i.jsx)(Je.a,{children:"Dataset"}),Object(i.jsxs)(jt,{value:o.datasetType,onChange:function(e){u(e.target.value)},children:[Object(i.jsx)(Ke.a,{value:"Gaussian2",children:"2 Gaussian"}),Object(i.jsx)(Ke.a,{value:"Gaussian3",children:"3 Gaussian"}),Object(i.jsx)(Ke.a,{value:"XOR",children:"XOR"})]})]}),Object(i.jsx)(Qt,{title:"Dataset Tooltip",onClick:t,infoPanel:Object(i.jsx)(nt,Object(m.a)({},n)),children:Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(V.a,{color:"inherit",children:"Datasets"}),Object(i.jsx)(V.a,{variant:"body2",children:"Defines the shape of the dataset we want our neural network to solve."}),Object(i.jsx)("br",{}),Object(i.jsx)("u",{children:"Click the icon to get more information"})]})}),Object(i.jsx)(qe.a,{orientation:"vertical",flexItem:!0}),Object(i.jsx)(ut,{label:"Dataset Size",min:10,step:10,max:500,defaultValue:o.numSamples,onChange:function(e,t){d(t)},appendValueToLabel:!0}),Object(i.jsx)(Qt,{title:"Sample Size Tooltip",children:Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(V.a,{color:"inherit",children:"Noise"}),Object(i.jsxs)(V.a,{variant:"body2",children:["Changes the number of samples in the dataset. ",Object(i.jsx)("br",{}),"(Training is done using 80% of the samples and the remaining 20% are used as the test dataset. "]})]})}),Object(i.jsx)(qe.a,{orientation:"vertical",flexItem:!0}),Object(i.jsx)(ut,{label:"Noise",min:0,step:.1,max:1,defaultValue:o.noise,onChange:function(e,t){l(t)},appendValueToLabel:!0}),Object(i.jsx)(Qt,{title:"Noise Tooltip",children:Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(V.a,{color:"inherit",children:"Noise"}),Object(i.jsx)(V.a,{variant:"body2",children:"This sets the noise in the generated data set. The more noise the greater the variance in the generated data."})]})}),Object(i.jsx)(qe.a,{orientation:"vertical",flexItem:!0}),Object(i.jsx)(ut,{label:"Batch Size",min:1,step:1,max:10,defaultValue:n.batchSize,onChange:function(e,t){h(t)},appendValueToLabel:!0}),Object(i.jsx)(Qt,{title:"Batch Size Tooltip",children:Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(V.a,{color:"inherit",children:"Batch Size"}),Object(i.jsxs)(V.a,{variant:"body2",children:["Specifies the number of training samples used in each epoch of ",Object(i.jsx)("a",{href:"https://www.google.com/search?q=mini+batch+gradient+descent",target:"_blank",children:"Mini-Batch Gradient Decent"}),".",Object(i.jsx)("br",{}),"(When batch size = 1, this is equivalent to ",Object(i.jsx)("a",{href:"https://www.google.com/search?q=stochastic+gradient+descent",target:"_blank",children:"Stochastic Gradient Decent"}),") "]})]})})]})},xt=n(482);function pt(){var e=Object(u.a)(["\n    margin: 5px;\n"]);return pt=function(){return e},e}function vt(){var e=Object(u.a)(["\ndisplay: flex;\nflex-direction: column;\nalign-items: stretch;\npadding-top: 15px;\npadding-bottom: 15px;\npadding-left: 10px;\npadding-right: 10px;\njustify-content: left;\n"]);return vt=function(){return e},e}var Ot=Object(h.a)((function(e){return Object(i.jsx)(Wt,Object(m.a)({gridArea:"control-panel"},e))}))(vt()),mt=Object(h.a)(xt.a)(pt());var wt=function(e){var t=e.training,n=e.handleStep,a=e.toggleAutoTrain,r=e.toggleDiscreetOutput,o=e.handleRegenerateDataset,c=e.handleReset;return Object(i.jsxs)(Ot,{children:[Object(i.jsx)(mt,{variant:"contained",onClick:n,children:" Step "}),Object(i.jsxs)(mt,{variant:"contained",onClick:a,children:[" Auto Train: ",Object(i.jsx)("b",{children:t?"On":"Off"})]}),Object(i.jsx)(mt,{variant:"contained",onClick:r,children:" Toggle Discreet Boundary "}),Object(i.jsx)(mt,{variant:"contained",color:"primary",onClick:o,children:" Regenerate Dataset "}),Object(i.jsx)(mt,{variant:"contained",color:"secondary",onClick:c,children:" Reset "})]})};function yt(){var e=Object(u.a)(["\n    float: left;\n    height: 1em;\n    width: 1em;\n    border: 1px solid black;\n    background-color: ",";\n    clear: both;\n    margin-right: 5px;\n"]);return yt=function(){return e},e}function kt(){var e=Object(u.a)(["\n    font-size: 14px;\n"]);return kt=function(){return e},e}function At(){var e=Object(u.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: left;\n    padding-left: 30px;\n    padding-top: 10px;\n    position: relative;\n    max-width: inherit;\n    /* max-width: fit-content; */\n"]);return At=function(){return e},e}function Ct(){var e=Object(u.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: stretch;\n    padding: 0px;\n    justify-content: space-around;\n    align-items: center;\n"]);return Ct=function(){return e},e}function St(){var e=Object(u.a)(["\n    display: block;\n"]);return St=function(){return e},e}function It(){var e=Object(u.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    /* max-width: fit-content; */\n"]);return It=function(){return e},e}function Bt(){var e=Object(u.a)(["\n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n    -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n    box-sizing: border-box; \n    grid-area: ",";\n    background-color: white;\n    margin: auto auto;\n    width: 100%;\n    height: 100%;\n    padding: 5px;\n    border-radius: 30px;\n    border: 2px solid #bdbdbd;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n"]);return Bt=function(){return e},e}function Et(){var e=Object(u.a)(["\n    display: flex;\n    align-content: flex-end;\n"]);return Et=function(){return e},e}function Dt(){var e=Object(u.a)(["\n    color: #ffffff;\n"]);return Dt=function(){return e},e}function zt(){var e=Object(u.a)(['\n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n    -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n    box-sizing: border-box; \n    margin: 0px auto auto auto;\n    display: grid;\n    width: auto;\n    /* min-width: 1400px; */\n    min-height: 600px;\n    transition: padding 0.4s ease-in-out;\n    padding: 20px;\n    padding-left: 20px;\n    padding-right: 20px;\n    \n    /* max-width: 100%; */\n\n    // Using values from NeuralNetworkVis for middle column\n    grid-template-columns: 230px max(560px, calc(50vw + 10px)) min-content;\n    grid-template-rows: 90px 1fr 80px auto;\n    grid-gap: 15px;\n    grid-template-areas: \n        "config-bar config-bar config-bar"\n        "control-panel network nn-graph"\n        "stats stats stats"\n        "info info info";\n']);return zt=function(){return e},e}function Rt(){var e=Object(u.a)(["\n    background-color: inherit;\n"]);return Rt=function(){return e},e}function Lt(){var e=Object(u.a)(["\n    margin-left: 10px;\n    min-width: 130px;\n    background-color: inherit;\n"]);return Lt=function(){return e},e}Object(h.a)(U.a)(Lt()),Object(h.a)(H.a)(Rt());var Tt=Object(h.a)("div")(zt()),Nt=Object(h.a)(f.a)(Dt()),Ft=Object(h.a)("div")(Et()),Wt=Object(h.a)("div")(Bt(),(function(e){return e.gridArea})),Pt=Object(h.a)((function(e){return Object(i.jsx)(Wt,Object(m.a)({gridArea:"network"},e))}))(It()),Gt=Object(h.a)((function(e){return Object(i.jsx)(Wt,Object(m.a)({gridArea:"nn-graph"},e))}))(St()),Mt=Object(h.a)((function(e){return Object(i.jsx)(Wt,Object(m.a)({gridArea:"stats"},e))}))(Ct()),Xt=Object(h.a)((function(e){return Object(i.jsx)(Wt,Object(m.a)({gridArea:"info"},e))}))(At()),Qt=Object(h.a)(ee)(kt()),Ut=Object(h.a)("div")(yt(),(function(e){return e.colour}));var Ht=function(e){var t=Object(a.useContext)(l),n=t.minColour,o=t.minColourName,c=t.maxColour,u=t.maxColourName,d=t.midColour,h=Object(a.useContext)(Xe),p=h.infoPanelData,v=h.setInfoPanelWrapper,O=h.handleInfoPanelForward,w=h.handleInfoPanelBackward,y=h.handleInfoPanelHome,k=Ge(e.nnConfig),A=k.nnConfig,C=k.network,S=k.setActivationFunction,B=k.setLearningRate,E=k.setBatchSize,R=k.step,L=k.reset,T=k.toggleInputNode,N=k.addNode,W=k.removeNode,G=k.addLayer,X=k.removeLayer,U=_e(e.dgConfig),H=U.dgConfig,_=U.generateDataset,J=U.trainingData,K=(U.testData,U.setDatasetType),q=U.setNoise,Y=U.setNumSamples,Z=Object(a.useState)({}),$=Object(s.a)(Z,2),ee=$[0],ie=$[1],ae=Object(a.useState)([]),re=Object(s.a)(ae,2),oe=re[0],ce=re[1],se=Object(a.useState)(0),ue=Object(s.a)(se,2),le=ue[0],de=ue[1],he=Object(a.useState)(0),fe=Object(s.a)(he,2),xe=fe[0],pe=fe[1],ve=Object(a.useState)(!1),Oe=Object(s.a)(ve,2),me=Oe[0],we=Oe[1],ye=Object(a.useState)([]),ke=Object(s.a)(ye,2),Ae=ke[0],Ce=ke[1],Se=Object(a.useState)(!1),Ie=Object(s.a)(Se,2),Be=Ie[0],Ee=Ie[1],De=Object(a.useState)(),ze=Object(s.a)(De,2),Re=ze[0],Le=ze[1],We=Object(a.useState)(!1),Pe=Object(s.a)(We,2),Me=Pe[0],Qe=(Pe[1],Object(a.useState)()),Ue=Object(s.a)(Qe,2),He=Ue[0];Ue[1],Object(a.useEffect)((function(){console.log("Config change useEffect"),Be&&qe(),_()}),[A,H]),Object(a.useEffect)((function(){Je()}),[ee]),Object(a.useEffect)((function(){console.log("Network change useEffect"),Ve()}),[C]),Object(a.useEffect)((function(){0!==xe&&C&&Ce((function(e){return e.concat([[xe,M(C,J,A.inputs)]])}))}),[xe]);var Ve=function(){console.log("Updating decision boundaries"),C&&(ie(function(e,t,n,i,a){for(var r={},o=g.j().domain([0,t]).range(n),c=g.j().domain([t,0]).range(i),s=0,u=Object.keys(F),l=0;l<t;l++)for(var d=function(t){var n=o(t),i=c(l),d=P(n||0,i||0,a);I(e,d),D(e,(function(e){r[e.id]||(r[e.id]=[]),r[e.id][s]=e.output})),u.forEach((function(e){r[e]||(r[e]=[]),r[e][s]=F[e].f(n||0,i||0)})),s++},h=0;h<t;h++)d(h);return r}(C,20,e.xDomain,e.yDomain,A.inputs)),J&&de(M(C,J,A.inputs)))},Je=function(){console.log("Updating decision boundary"),C&&ce(function(e,t,n,i,a){for(var r=g.j().domain([0,t]).range(n),o=g.j().domain([t,0]).range(i),c=[],s=0,u=0;u<t;u++)for(var l=0;l<t;l++)I(e,P(r(l)||0,o(u)||0,a)),c[s++]=z(e).output;return c}(C,e.numCells,e.xDomain,e.yDomain,A.inputs))},Ke=function(){console.log("HandleStep"),R(J),pe((function(e){return e+1})),Ve()},qe=function(){Ee((function(e){return e?clearInterval(Re):Le(setInterval((function(){Ke()}),500)),!e}))};return Object(i.jsxs)(Tt,{id:"main-page",children:[Object(i.jsx)(gt,{nnConfig:A,dgConfig:H,setActivationFunction:S,setLearningRate:B,setDatasetType:K,setNoise:q,setNumSamples:Y,setBatchSize:E}),Object(i.jsx)(wt,{training:Be,handleStep:Ke,toggleAutoTrain:qe,toggleDiscreetOutput:function(){we((function(e){return!e}))},handleRegenerateDataset:function(){_(),Be&&qe()},handleReset:function(){console.log("Reset"),Be&&qe(),L(),pe(0),Ce([]),Me||_()}}),Object(i.jsxs)(Gt,{children:[Object(i.jsxs)("div",{style:{display:"flex",marginLeft:"25px"},children:[Object(i.jsx)(V.a,{variant:"h6",children:"Output"}),Object(i.jsx)(Qt,{title:"Output Tooltip",marginLeft:5,fontSize:"small",onClick:v,infoPanel:Object(i.jsx)(Ne,Object(m.a)({},A)),children:Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(V.a,{color:"inherit",children:"Output"}),Object(i.jsxs)(V.a,{variant:"body2",children:["This graph shows the final output of the neural network in the domain (-8, +8) for both the ",Object(i.jsxs)(be,{definition:je(),children:["X",Object(i.jsx)("sub",{children:"1"})]})," and ",Object(i.jsxs)(be,{definition:ge(),children:["X",Object(i.jsx)("sub",{children:"2"})]})," features.",Object(i.jsx)("br",{})," The samples in the data sets used only have 2 classes (-1 and +1); the neural network defines a decision boundary so that points that are in",Object(i.jsx)("br",{})," ",o," ",Object(i.jsx)(Ut,{colour:n})," sections of the graph are classified as class -1 and points that are in ",Object(i.jsx)("br",{})," ",u," ",Object(i.jsx)(Ut,{colour:c})," sections of the graph are classified as class +1."]}),Object(i.jsx)("br",{})]})}),Object(i.jsx)(Fe,{width:150,height:15,maxColour:c,minColour:n,midColour:d,maxValue:1,minValue:-1,midValue:0,numShades:100,horizontal:!0})]}),J&&C&&Object(i.jsx)(Q,{dataset:J,density:25,canvasWidth:250,marginLeft:35,marginRight:20,marginTop:20,marginBottom:40,numCells:e.numCells,xDomain:e.xDomain,yDomain:e.yDomain,decisionBoundary:oe,discreetBoundary:me}),Object(i.jsxs)("div",{style:{marginLeft:"10px"},children:[Object(i.jsxs)("p",{style:{marginTop:"0px",marginBottom:"0px"},children:[" Epochs: ",xe," "]}),Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start"},children:[Object(i.jsxs)("p",{style:{marginTop:"0px",marginBottom:"0px"},children:[" Loss: ",le.toFixed(3)," "]}),Object(i.jsx)(Qt,{title:"Loss Tooltip",marginLeft:5,fontSize:"small",onClick:v,infoPanel:Object(i.jsx)(Ne,Object(m.a)({},A)),children:Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(V.a,{color:"inherit",children:"Loss"}),Object(i.jsxs)(V.a,{variant:"body2",children:["This is loss calculated using the ",Object(i.jsx)("a",{href:"https://www.google.com/search?q=sum+squared+residuals",target:"_blank",children:"sum of squared residulals"})," between the output of our neural network and the expected output from out training set."]}),Object(i.jsx)("br",{}),Object(i.jsx)("u",{children:"Click the icon to get more information"})]})})]}),Object(i.jsx)(x,{height:60,width:170,margin:5,dataset:Ae,comparisionData:null===He||void 0===He?void 0:He.lossData})]})]}),Object(i.jsx)(Pt,{children:J&&C&&Object(i.jsx)(Te,{network:C,decisionBoundaries:ee,discreetBoundary:me,inputs:A.inputs,config:A,networkWidth:650,networkHeight:550,handleOnClick:T,addNode:N,removeNode:W,addLayer:G,removeLayer:X,setInfoPanel:v})}),Object(i.jsx)(Mt,{}),Object(i.jsxs)(Xt,{children:[p.infoPanel,Object(i.jsxs)("div",{style:{position:"absolute",right:"40px",top:"30px"},children:[Object(i.jsx)(f.a,{onClick:w,children:Object(i.jsx)(j.a,{})}),Object(i.jsx)(f.a,{onClick:y,children:Object(i.jsx)(te.a,{fontSize:"large"})}),Object(i.jsx)(f.a,{onClick:O,children:Object(i.jsx)(b.a,{})})]})]}),Object(i.jsx)(Ft,{children:Object(i.jsx)("a",{href:"https://git-teaching.cs.bham.ac.uk/mod-ug-proj-2020/bxg796",target:"_blank",children:Object(i.jsx)(Nt,{children:Object(i.jsx)(ne.a,{color:"inherit"})})})})]})};var Vt=function(e,t,n,i){var r=Object(a.useRef)();Object(a.useEffect)((function(){var a=(null===n||void 0===n?void 0:n.current)||window,o=i||!1;if(a&&a.addEventListener){r.current!==t&&(r.current=t);var c=function(e){(null===r||void 0===r?void 0:r.current)&&r.current(e)};return a.addEventListener(e,c,o),function(){a.removeEventListener(e,c,o)}}}),[e,n,t,i])},_t=n(70);function Jt(){var e=Object(u.a)(["\n            body {\n              background: ","\n            }"]);return Jt=function(){return e},e}function Kt(){var e=Object(u.a)(["\n    position: absolute;\n    background: white;\n    border-radius: 50%;\n    width: 50px;\n    height: 50px;\n    top: 50%;\n    left: 95%;\n    z-index: 500;\n    transition: all "," ease-in-out;\n    &.active {\n        left: 5%;\n    }\n"]);return Kt=function(){return e},e}function qt(){var e=Object(u.a)(["\n    position: relative;\n    min-width: 100vw;\n    height: 100vh;\n    /* min-width: 100%; */\n    width: auto;\n    display: flex;\n    overflow-x: hidden;\n    left: 0%;\n"]);return qt=function(){return e},e}function Yt(){var e=Object(u.a)(["\n        -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n        -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n        box-sizing: border-box; \n        position: absolute;\n        display: flex;\n        /* justify-content: center; */\n        margin-top: auto;\n        min-height: 100vh;\n        width: calc(100vw - (100vw - 100%));\n        /* max-width: 100vw; */\n        overflow-x: auto;\n    \n\n    &.main {\n        margin-right: max(60px,);\n        left: 0%;\n        transition: all 0.7s ease-in-out;\n        &.active {\n        left: -100%;\n        }\n    }\n\n    &.compare {\n        left: 100%;\n        transition: all 0.7s ease-in-out;\n        &.active {\n        left: 0%;\n        }\n    }\n"]);return Yt=function(){return e},e}function Zt(){var e=Object(u.a)(["\n    //min-width: 130px;\n    //max-width: 100%;\n"]);return Zt=function(){return e},e}function $t(){var e=Object(u.a)(["\n"]);return $t=function(){return e},e}var en=Object(h.a)(O)($t()),tn=Object(h.a)("div")(Zt()),nn=Object(h.a)("div")(Yt()),an=Object(h.a)("div")(qt()),rn=Object(h.a)(f.a)(Kt(),(function(e){return e.transitioning?"0.7s":"0s"}));var on=function(){var e=Object(a.useContext)(l).background,t=Ge().nnConfig,n=_e().dgConfig,r=Object(a.createRef)(),o=Object(a.useState)("main"),c=Object(s.a)(o,2),u=c[0],d=c[1],h=Object(a.useState)(!1),f=Object(s.a)(h,2),g=f[0],x=f[1],p=Object(a.useState)(0),v=Object(s.a)(p,2),O=v[0],m=v[1],w=Object(a.useState)(!1),y=Object(s.a)(w,2),k=y[0],A=y[1],C=Object(a.useState)(),S=Object(s.a)(C,2),I=S[0],B=S[1];Object(a.useEffect)((function(){k&&D()}),[k]),Object(a.useEffect)((function(){setTimeout((function(){A(!1),E()}),700)}),[u]),Object(a.useEffect)((function(){D()}),[g]);var E=function(){var e=140;if("main"===u){var t=document.getElementById("main-container"),n=document.getElementById("main-page"),i=document.getElementById("dynamic-margin-main");if(!t||!n||!i)return;if(t.offsetWidth-O<n.offsetWidth+e){var a=Math.min(n.offsetWidth+e-t.offsetWidth,e);i.style.minWidth="".concat(a,"px"),x(!0),m(a)}else i.style.minWidth="0px",x(!1),m(0)}if("compare"===u){var r=document.getElementById("compare-container"),o=document.getElementById("compare-page"),c=document.getElementById("dynamic-margin-compare");if(!r||!o||!c)return;if(r.offsetWidth-O<o.offsetWidth+e){var s=Math.min(o.offsetWidth+e-r.offsetWidth,e);c.style.minWidth="".concat(s,"px"),x(!0),m(s)}else c.style.minWidth="0px",x(!1),m(0)}},D=function(){var e=document.getElementById("transition-button");if(e)if(k)e.style.left="compare"===u?"5%":"95%";else if(g){if("main"===u){var t=document.getElementById("main-container"),n=document.getElementById("main-page");if(!t||!n)return;var i=t.getBoundingClientRect(),a=n.getBoundingClientRect();a.right+70>=i.width?e.style.left="".concat(a.right+20,"px"):e.style.left="min(95%, calc(".concat(a.x+a.width,"px + 2%))")}if("compare"===u){var r=document.getElementById("compare-container"),o=document.getElementById("compare-page");if(!r||!o)return;var c=r.getBoundingClientRect(),s=o.getBoundingClientRect();s.left-60<=c.width?e.style.right="100%":e.style.left="min(95%, calc(".concat(s.x+s.width,"px + 2%))")}}else e.style.left="main"===u?"95%":"5%"};return Vt("resize",(function(){E(),D()})),Vt("scroll",D,r),Object(i.jsxs)(an,{children:[Object(i.jsx)(_t.a,{styles:Object(_t.b)(Jt(),e)}),Object(i.jsxs)(nn,{id:"main-container",className:"animated main",ref:r,children:[Object(i.jsx)(Ht,{xDomain:[-8,8],yDomain:[-8,8],numCells:100,updateComparisionData:function(e,t){B({currentState:e,savedState:t})},nnConfig:t,dgConfig:n}),Object(i.jsx)(tn,{id:"dynamic-margin-main"})]}),Object(i.jsxs)(rn,{transitioning:k,id:"transition-button",className:"animated",onClick:function(){d("main"===u?"compare":"main"),A(!0),document.querySelectorAll(".animated").forEach((function(e){return e.classList.toggle("active")}))},children:["main"===u&&Object(i.jsx)(b.a,{}),"compare"===u&&Object(i.jsx)(j.a,{})]}),Object(i.jsxs)(nn,{id:"compare-container",className:"animated compare",children:[Object(i.jsx)(tn,{id:"dynamic-margin-compare"}),Object(i.jsx)(en,{currentState:null===I||void 0===I?void 0:I.currentState,savedState:null===I||void 0===I?void 0:I.savedState})]})]})},cn=n(488);c.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(cn.b,{injectFirst:!0,children:Object(i.jsx)(d,{children:Object(i.jsx)(Qe,{children:Object(i.jsx)(on,{})})})})}),document.getElementById("root"))}},[[447,1,2]]]);
//# sourceMappingURL=main.5f94cc4f.chunk.js.map