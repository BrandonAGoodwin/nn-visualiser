(this["webpackJsonpnn-visualiser"]=this["webpackJsonpnn-visualiser"]||[]).push([[0],{295:function(e,t,n){},297:function(e,t,n){},447:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n(0),r=n.n(a),o=n(17),c=n.n(o),s=(n(295),n(5)),l=n(8),d=Object(a.createContext)({background:"linear-gradient(207deg, rgba(255,118,97,1) 0%, rgba(34,55,129,1) 100%)",minColour:"#223781",minColourName:"blue",midColour:"#FFFFFF",midColourName:"white",maxColour:"#ff7661",maxColourName:"orange"}),u=function(e){var t=Object(a.useState)({background:"linear-gradient(207deg, rgba(255,118,97,1) 0%, rgba(34,55,129,1) 100%)",minColour:"#223781",minColourName:"blue",midColour:"#FFFFFF",midColourName:"white",maxColour:"#ff7661",maxColourName:"orange"}),n=Object(s.a)(t,2);n[0],n[1];return Object(i.jsx)(d.Provider,{value:{background:"linear-gradient(207deg, rgba(255,118,97,1) 0%, rgba(34,55,129,1) 100%)",minColour:"#223781",minColourName:"blue",midColour:"#FFFFFF",midColourName:"white",maxColour:"#ff7661",maxColourName:"orange"},children:e.children})},h=n(9),b=n(478),j=n(485),f=n(483),g=(n(297),n(6));var x=function(e){var t=Object(a.useRef)(null),n=Object(a.useState)(!1),r=Object(s.a)(n,2),o=r[0],c=r[1],l=(e.width,function(){d(),c(!0)});Object(a.useEffect)((function(){l()}),[]),Object(a.useEffect)((function(){o?u():l()}),[e.dataset]);var d=function(){g.l(t.currnet).attr("width",e.width+2*e.margin).attr("height",e.height+2*e.margin)},u=function(){var n,i=g.l(t.current);i.selectAll(".loss-graph").remove();var a=i.append("g").attr("class","loss-graph").attr("transform","translate(".concat(e.margin,", ").concat(e.margin,")")),r=g.j().range([0,e.width]).domain([1,Math.max(e.dataset.length,(null===(n=e.comparisionData)||void 0===n?void 0:n.length)||0)]),o=Number.MAX_VALUE,c=Number.MIN_VALUE;e.dataset.forEach((function(e){var t=e[1];o=Math.min(o,t),c=Math.max(c,t)})),e.comparisionData&&e.comparisionData.forEach((function(e){var t=e[1];o=Math.min(o,t),c=Math.max(c,t)}));var s=g.j().range([e.height,0]).domain([o,c]);a.append("g").attr("class","axis").attr("transform","translate(0,".concat(e.height,")")).call(g.a(r)),a.append("g").attr("class","axis").call(g.b(s));a.append("path").datum(e.dataset).attr("fill","none").attr("stroke","#606060").attr("stroke-width",1.5).attr("d",g.f().x((function(e){return r(e[0])||0})).y((function(e){return s(e[1])||0}))),e.comparisionData&&a.append("path").datum(e.comparisionData).attr("fill","none").attr("stroke","red").attr("stroke-width",1.5).attr("d",g.f().x((function(e){return r(e[0])||0})).y((function(e){return s(e[1])||0})))};return Object(i.jsx)("svg",{ref:t,width:e.width+2*e.margin,height:e.height+2*e.margin})};function p(){var e=Object(l.a)(["\n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n    -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n    box-sizing: border-box; \n    background-color: white;\n    margin: 30px auto;\n    min-width: 800px;\n    width: auto;\n    max-width: 80vw;\n    height: 80vh;\n    padding: 30px;\n    border-radius: 30px;\n    border: 2px solid #bdbdbd;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n"]);return p=function(){return e},e}var v=Object(h.a)("div")(p());var O=function(e){var t;return Object(i.jsx)(v,{id:"compare-page",children:e.currentState&&Object(i.jsx)(x,{height:60,width:170,margin:5,dataset:e.currentState.lossData,comparisionData:null===(t=e.savedState)||void 0===t?void 0:t.lossData})})},m=n(12),w=n(34),k=n(38),y=function(){function e(t,n){Object(w.a)(this,e),this.id=void 0,this.activationFunction=void 0,this.linksIn=[],this.linksOut=[],this.totalInput=0,this.bias=.1,this.output=0,this.outputDerivative=0,this.inputDerivative=0,this.accInputDererivatives=0,this.numInputDerivatives=0,this.dw=0,this.db=0,this.id=t,this.activationFunction=n}return Object(k.a)(e,[{key:"updateOutput",value:function(){this.totalInput=this.bias;for(var e=0;e<this.linksIn.length;e++)this.totalInput+=this.linksIn[e].weight*this.linksIn[e].source.output;return this.output=this.activationFunction.output(this.totalInput),this.output}}]),e}();Math.tanh=Math.tanh||function(e){if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)};var A=function e(){Object(w.a)(this,e)};A.SIGMOID={output:function(e){return 1/(1+Math.exp(-e))},derivative:function(e){var t=A.SIGMOID.output(e);return t*(1-t)}},A.RELU={output:function(e){return Math.max(0,e)},derivative:function(e){return e>0?1:0}},A.TANH={output:function(e){return Math.tanh(e)},derivative:function(e){var t=A.TANH.output(e);return 1-t*t}};var C=function e(){Object(w.a)(this,e)};C.SQUARE={cost:function(e,t){return.5*Math.pow(e-t,2)},derivative:function(e,t){return e-t}};var S=function e(t,n,i){Object(w.a)(this,e),this.source=void 0,this.dest=void 0,this.weight=void 0,this.costDer=void 0,this.derAcc=void 0,this.noAccDers=void 0,this.source=t,this.dest=n,this.weight=i||Math.random()-.5,this.costDer=0,this.derAcc=0,this.noAccDers=0};function E(e,t){var n=e.length,i=e[0],a=e[n-1];if(i.length!==t.length)throw new Error("Then number of inputs should equal the number of input neurons");for(var r=0;r<i.length;r++){i[r].output=t[r]}for(var o=1;o<n;o++)for(var c=e[o],s=0;s<c.length;s++){c[s].updateOutput()}return a[0].output}function I(e,t,n){var i=e[e.length-1][0];i.outputDerivative=t.derivative(i.output,n);for(var a=e.length-1;a>0;a--){for(var r=e[a],o=0;o<r.length;o++){var c=r[o];c.inputDerivative=c.outputDerivative*c.activationFunction.derivative(c.totalInput),c.accInputDererivatives+=c.inputDerivative,c.numInputDerivatives++}for(var s=0;s<r.length;s++)for(var l=r[s],d=0;d<l.linksIn.length;d++){var u=l.linksIn[d];u.costDer=u.source.output*l.inputDerivative,u.derAcc+=u.costDer,u.noAccDers++}if(1!==a)for(var h=e[a-1],b=0;b<h.length;b++){var j=h[b];j.outputDerivative=0;for(var f=0;f<j.linksOut.length;f++){var g=j.linksOut[f];j.outputDerivative+=g.dest.inputDerivative*g.weight}}}}function B(e,t){for(var n=1;n<e.length;n++)for(var i=e[n],a=0;a<i.length;a++){for(var r=i[a],o=0;o<r.linksIn.length;o++){var c=r.linksIn[o];if(c.noAccDers>0){var s=c.derAcc/c.noAccDers;c.weight=c.weight-t*s,c.derAcc=0,c.noAccDers=0}}if(r.numInputDerivatives>0){var l=r.accInputDererivatives/r.numInputDerivatives;r.bias=r.bias-t*l,r.accInputDererivatives=0,r.numInputDerivatives=0}}}function D(e,t,n){for(var i=n?1:0;i<e.length;i++)for(var a=e[i],r=0;r<a.length;r++)t(a[r])}function z(e){return e[e.length-1][0]}var L=function e(){Object(w.a)(this,e)};function R(e,t){var n,i,a,r;e=e||0,t=t||1;do{r=(n=2*Math.random()-1)*n+(i=2*Math.random()-1)*i}while(r>1);return a=Math.sqrt(-2*Math.log(r)/r)*n,e+Math.sqrt(t)*a}var T={Tanh:A.TANH,ReLU:A.RELU,Sigmoid:A.SIGMOID},N={Gaussian2:L.GAUSSIAN_2=function(e,t){var n=g.j().domain([0,.5]).range([.5,4])(t)||0,i=[];function a(t,a,r){for(var o=0;o<e/2;o++){var c=R(t,n),s=R(a,n);i.push({x1:c,x2:s,y:r})}}return a(-3,-3,-1),a(3,3,1),i},Gaussian3:L.GAUSSIAN_3=function(e,t){var n=g.j().domain([0,.5]).range([.5,4])(t)||0,i=[];function a(t,a,r){for(var o=0;o<e/3;o++){var c=R(t,n),s=R(a,n);i.push({x1:c,x2:s,y:r})}}return a(-4,-4,-1),a(0,0,1),a(4,4,-1),i},XOR:L.XOR=function(e,t){var n=g.j().domain([0,1]).range([-.5,.5]),i=[];function a(a,r,o,c,s){for(var l=g.j().domain([0,1]).range([a-o/2,a+o/2]),d=g.j().domain([0,1]).range([r-c/2,r+c/2]),u=0;u<e/4;u++){var h=l(Math.random()+(n(Math.random())||0)*t)||0,b=d(Math.random()+(n(Math.random())||0)*t)||0;i.push({x1:h,x2:b,y:s})}}return a(-4,4,8,8,1),a(4,4,8,8,-1),a(-4,-4,8,8,-1),a(4,-4,8,8,1),i}},W={x:{f:function(e,t){return e},label:"X_1"},y:{f:function(e,t){return t},label:"X_2"},xSquared:{f:function(e,t){return e*e},label:"X_1^2"},ySquared:{f:function(e,t){return t*t},label:"X_2^2"},xTimesY:{f:function(e,t){return e*t},label:"X_1X_2"},sinX:{f:function(e,t){return Math.sin(e)},label:"sin(X_1)"},sinY:{f:function(e,t){return Math.sin(t)},label:"sin(X_2)"}};function F(e){var t=function(e,t,n,i){var a=e.length,r=[],o=[];Object.keys(i).forEach((function(e){i[e]&&o.push(e)}));for(var c=1,s=0;s<a;s++){var l=[];r.push(l);for(var d=e[s],u=0===s,h=0;h<d;h++){var b=u?o[h]:(c++).toString(),j=new y(b,s===a-1&&0===h?n:t);if(l.push(j),!u)for(var f=r[s-1],g=0;g<f.length;g++){var x=f[g],p=new S(x,j);x.linksOut.push(p),j.linksIn.push(p)}}}return r}(e.networkShape,T[e.activationFunction],A.TANH,e.inputs);return console.log(t),t}function G(e,t,n){var i=[];for(var a in W)n[a]&&i.push(W[a].f(e,t));return i}function M(e,t,n,i,a){for(var r=0;r<t.length;r++){var o=t[r];E(e,G(o.x1,o.x2,i)),I(e,C.SQUARE,o.y),(r+1)%a===0&&B(e,n)}}function X(e,t,n){for(var i=0,a=0;a<t.length;a++){var r=t[a];i+=C.SQUARE.cost(E(e,G(r.x1,r.x2,n)),r.y)}return i/t.length}function Q(e){return function(e){for(var t=[],n=0;n<e.length;n++){var i=[];t.push(i);for(var a=0===n,r=0;r<e[n].length;r++){var o=e[n][r],c=new y(o.id,o.activationFunction);if(i.push(c),!a)for(var s=t[n-1],l=0;l<s.length;l++){var d=s[l],u=o.linksIn[l],h=new S(d,c,u.weight);d.linksOut.push(h),c.linksIn.push(h)}}}return t}(e)}var P=function(e){var t=Object(a.useContext)(d),n=t.minColour,r=t.midColour,o=t.maxColour,c=Object(a.useRef)(null);Object(a.useEffect)((function(){s()}),[e.decisionBoundary,e.discreetBoundary]);var s=function(){var t=Date.now(),i=g.j().domain([0,.5,1]).range(e.disabled?["#606060","#FFFFFF","#202020"]:[n,r,o]).clamp(!0),a=e.numShades||100,s=g.h(0,1+1e-9,1/a).map((function(e){return i(e)||0})),l=g.k().domain([-1,1]).range(s),d=c.current,u=null===d||void 0===d?void 0:d.getContext("2d");if(e.decisionBoundary&&u){var h=u.createImageData(e.numCells,e.numCells);if(h){for(var b=h.data,j=-1,f=0;f<e.decisionBoundary.length;f++){var x=e.decisionBoundary[f];e.discreetBoundary&&(x=x>0?1:-1);var p=g.i(l(x));b[++j]=p.r,b[++j]=p.g,b[++j]=p.b,b[++j]=200}u.putImageData(h,0,0);Date.now()}}};return Object(i.jsx)("canvas",{ref:c,id:e.id,className:"background",width:e.numCells,height:e.numCells,style:{width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),paddingLeft:"".concat(e.padding&&e.paddingLeft?e.paddingLeft:"0","px"),paddingRight:"".concat(e.padding&&e.paddingRight?e.paddingRight:"0","px"),paddingTop:"".concat(e.padding&&e.paddingTop?e.paddingTop:"0","px"),paddingBottom:"".concat(e.padding&&e.paddingBottom?e.paddingBottom:"0","px")}})};var U=function(e){var t=Object(a.useContext)(d),n=t.minColour,r=t.maxColour,o=Object(a.useRef)(null),c=Object(a.useState)(!1),l=Object(s.a)(c,2),u=l[0],h=l[1],b=e.canvasWidth/16,j=function(){console.log("NNGraph init"),f(),h(!0)};Object(a.useEffect)((function(){console.log("NNGraph inital useEffect"),j()}),[]),Object(a.useEffect)((function(){console.log("props and props.decisionboundary NNGraph useEffect"),u?p():j()}),[e.decisionBoundary,e.dataset]);var f=function(){console.log("Creating graph"),g.l(o.currnet).attr("width",e.canvasWidth+e.marginLeft+e.marginRight).attr("height",e.canvasWidth+e.marginTop+e.marginBottom)},x=function(e,t){if(/[_^]/.test(e)){for(var n,i,a=/(.*?)([_^])(.)/g;null!=(n=a.exec(e));){i=a.lastIndex;var r=n[1],o=n[2],c=n[3];r&&t.append("tspan").text(r),t.append("tspan").attr("baseline-shift","_"===o?"sub":"super").style("font-size","9px").text(c)}i&&e.substring(i)&&t.append("tspan").text(e.substring(i))}else t.append("tspan").text(e)},p=function(){console.log("Updating graph");var t=g.l(o.current);t.selectAll(".graph").remove();var i=t.append("g").attr("class","graph").attr("transform","translate(".concat(e.marginLeft,", ").concat(e.marginTop,")")),a=g.j().range([0,e.canvasWidth]),c=g.j().range([e.canvasWidth,0]);a.domain([-8,8]),c.domain([-8,8]),i.append("g").attr("class","axis").attr("transform","translate(0,".concat(e.canvasWidth,")")).call(g.a(a).tickValues([0].concat(a.ticks()))),i.append("g").attr("class","axis").call(g.b(c).tickValues([0].concat(c.ticks()))),i.append("g").attr("class","axis").attr("transform","translate(".concat(e.canvasWidth,",0)")).call(g.c(c).tickValues([0].concat(c.ticks()))),i.append("g").attr("class","axis").call(g.d(a).tickValues([0].concat(a.ticks())));var s=i.append("text").attr("class","axis").attr("x",e.canvasWidth/2).attr("y",e.canvasWidth+e.marginBottom-7).attr("text-anchor","middle").attr("alignment-baseline","bottom");x("X_1",s);var l=i.append("text").attr("class","axis").attr("y",e.canvasWidth/2).attr("x",-e.marginLeft).attr("text-anchor","left").attr("alignment-baseline","middle");x("X_2",l);var d=e.dataset.filter((function(e){return e.x1>=a.domain()[0]&&e.x1<=a.domain()[1]&&e.x2>=c.domain()[0]&&e.x2<=c.domain()[1]}));i.selectAll(".circle").data(d).enter().append("circle").attr("class","circle").attr("r",b/7).attr("fill",(function(e){var t="black";return 1===e.y&&(t=r),-1===e.y&&(t=n),t})).style("stroke","black").attr("cx",(function(t){return t.x1*b+e.canvasWidth/2})).attr("cy",(function(t){return-t.x2*b+e.canvasWidth/2}))};return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{style:{position:"relative"},children:[Object(i.jsx)("svg",{ref:o,width:e.canvasWidth+e.marginLeft+e.marginRight,height:e.canvasWidth+e.marginTop+e.marginBottom,style:{position:"absolute"}}),Object(i.jsx)(P,{width:e.canvasWidth,height:e.canvasWidth,numCells:e.numCells,paddingLeft:e.marginLeft,paddingRight:e.marginRight,paddingTop:e.marginTop,paddingBottom:e.marginBottom,disabled:!1,padding:!0,decisionBoundary:e.decisionBoundary,discreetBoundary:e.discreetBoundary})]})})},V=n(480),H=n(481),_=n(487),J=n(492),K=n(493),q=n(477),Y=n(482),Z=n(491),$=n(490);function ee(){var e=Object(l.a)(["\n    width: 110px;\n    padding-left: 10px;\n    padding-right: 10px;\n"]);return ee=function(){return e},e}var te=Object(h.a)("div")(ee());var ne=function(e){var t=Object(a.useState)(e.defaultValue),n=Object(s.a)(t,2),r=n[0],o=n[1];return Object(i.jsxs)(te,{children:[Object(i.jsx)(q.a,{gutterBottom:!0,children:e.label+": "+r}),Object(i.jsx)(Z.a,{defaultValue:e.defaultValue,step:e.step,min:e.min,max:e.max,onChange:function(e,t){o(t)},onChangeCommitted:e.onChange})]})},ie=n(3),ae=n(479);function re(){var e=Object(l.a)(["\n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n    -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n    box-sizing: border-box; \n\n    margin-right: ",";\n    margin-left: ",";\n\n"]);return re=function(){return e},e}function oe(){var e=Object(l.a)(["\n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n    -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n    box-sizing: border-box; \n    width: 20px;\n    height: 20px;\n    color: #505050;\n    padding: 10px;\n    \n    margin: auto 0px;\n    border-radius: 100%;\n    &:hover {\n        background-color: inherit;\n    }\n\n"]);return oe=function(){return e},e}var ce=Object(h.a)(b.a)(oe()),se=Object(h.a)($.a)(re(),(function(e){return"".concat(e.marginRight,"px")}),(function(e){return"".concat(e.marginLeft,"px")})),le=function(e){var t=e.marginLeft,n=void 0===t?10:t,a=e.marginRight,r=void 0===a?10:a,o=Object(ie.a)(e,["marginLeft","marginRight"]);return Object(i.jsx)(se,{interactive:!0,arrow:!0,title:o.children||o.title,onClick:function(){return o.onClick&&o.infoPanel&&o.onClick(o.infoPanel)},marginLeft:n,marginRight:r,children:Object(i.jsx)(ce,{children:o.icon||Object(i.jsx)(ae.a,{fontSize:o.fontSize})})})};var de=function(e){var t=Object(a.useContext)(d),n=t.minColourName,r=t.maxColourName;return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"How To Get Started"}),Object(i.jsx)("p",{children:"This is a tool that lets you play with a simple neural network implementation. Below are instructions on how to get started designing your own neural network and test it's performance."}),Object(i.jsx)("h2",{children:"Neural Network"}),Object(i.jsx)("h3",{children:"Links"}),Object(i.jsx)("p",{children:"Links (or edges) connect neurons in adjacent layers, each link has a weight value w that is updated by training the network using Gradient Decent."}),Object(i.jsx)("h4",{children:"Magnitude"}),Object(i.jsx)("p",{children:"The width of a link corresponds to the absolute magnitude of it's weight. Wider links have greater absolute weight values (and therefore have a stronger influence in the destination node) than narrower links."}),Object(i.jsx)("h4",{children:"Positive Value Link"}),Object(i.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAT8AAAA1CAYAAAA3Sux5AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFtSURBVHhe7d2xTcNAGIbhM5sABQxCzwxQwAZhBtgACmaAGragIUVAyiLGRieBrODyYvQ9T5Nz98t3eiVLJ6XrBwUgzEH9BYgifkAk8QMiiR8QSfyASOIHRBI/IJL4AZHED4gkfkAk8QMiiR8QSfyASOIHRBI/IJL4AZHED4gkfkAk8QMiiR8QSfyASF3/8tT+39vOzuti4vW5Lho7PCnl+LQ+/LKveZb2fswzb9c8m/dSPtf1obH/MM9oz/vV9auL9vG7fayLiZvLumjsarU7fvd3pXwMh6a1pb0f8/ztaDg318P5mRpj8zCcn9aWNs9oofvlsxeIJH5AJPEDIokfEEn8gEjiB0QSPyCSS84jl5znmWfernlccv6x0P3q+sH3CiCIz14gkvgBkcQPiCR+QCTxAyKJHxBJ/IBI4gdEEj8gkvgBkcQPiCR+QCTxAyKJHxBJ/IBI4gdEEj8gkvgBkcQPyLPdiB8QaP1WvgBj/FW9pIttHAAAAABJRU5ErkJggg==",alt:"Positive link",width:100}),Object(i.jsxs)("p",{children:["Links with a weight value > 0 are ",r,"."]}),Object(i.jsx)("h4",{children:"Negative Value Link"}),Object(i.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUEAAAAuCAYAAAC226sKAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFcSURBVHhe7dwxSsRAGIbh0YsoeIMtZDvvoWBlZaE3sPAGWlhZCR7EbrXYGwh6Es1mZwnIJmUS+Z6n2STVz0x4ITDswU+jAIQ6rL8AkUQQiCaCQDQRBKKJIBBNBIFoIghEE0EgmggC0UQQiCaCQDQRBKKJIBBNBIFoIghEE0EgmggC0dp/ln58fqu34zpdHJXl4rjedaaaZ+Pm6qxedcyzNbf9Ms+wfe/Oav1VPtbf9W5cc92vNoLn1y/lvVmcsb0+Xe5dlKnmuW1emr7oPEywUX3z2K+t/zLPyfK+Xo3rc3VXrzqbCF406zOFua3Pbh6fw0A0EQSiiSAQTQSBaCIIRBNBIJoIAtEclv7DYel+DicPm9s8DksP283TRrA+A4jjcxiIJoJANBEEookgEE0EgWgiCEQTQSCaCALRRBCIJoJANBEEookgEE0EgWgiCEQTQSCaCALRRBAIVsov/YKARCqVXtEAAAAASUVORK5CYII=",alt:"Negative link",width:100}),Object(i.jsxs)("p",{children:["Links with a weight value < 0 are ",n,"."]}),Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:"Fix history functionality"}),Object(i.jsx)("li",{children:"Node representation"}),Object(i.jsx)("li",{children:"Link representation"}),Object(i.jsx)("li",{children:"Inputs"}),Object(i.jsx)("li",{children:"Data set"}),Object(i.jsx)("li",{children:"Building network"}),Object(i.jsx)("li",{children:"Training"}),Object(i.jsx)("li",{children:"Comparision func"}),Object(i.jsx)("li",{children:"Tool tips"})]}),Object(i.jsx)("p",{})]})},ue=n(175);function he(){var e=Object(l.a)(["w'=w-epsilonDelta J(x)"],["w'=w-\\epsilon\\Delta J(x)"]);return he=function(){return e},e}var be=function(e){return Object(i.jsxs)("div",{style:{float:"left"},children:[Object(i.jsx)("h1",{children:"Learning Rate (\u03b5)"}),Object(i.jsx)("p",{children:"The learning rate affects the rate at which the weights and biases change each epoch when training the neural network."}),Object(i.jsx)("h2",{children:"Usage"}),Object(i.jsx)(ue.a,{tex:String.raw(he())}),Object(i.jsx)("h2",{children:"Observations"}),Object(i.jsxs)("p",{children:["We observe that ",Object(i.jsx)("b",{children:"smaller"})," learning rates lead to ",Object(i.jsx)("b",{children:"slower learning"})," but ",Object(i.jsx)("b",{children:"more precise decision boundaries "}),"and ",Object(i.jsx)("b",{children:"less fluctuating"})," around the local optima and conversely ",Object(i.jsx)("b",{children:"larger"})," learning rates lead to ",Object(i.jsx)("b",{children:"faster learning "}),"but ",Object(i.jsx)("b",{children:"less precise decision boundaries"})," and ",Object(i.jsx)("b",{children:"more fluctuating"})," around local minima."]}),Object(i.jsx)("h3",{children:"Exercise"}),Object(i.jsx)("p",{children:"Try different different learning rates and see how much the loss is reduced on average after 3 epochs."})]})};function je(){var e=Object(l.a)(["\n    text-decoration: underline;\n    color: blue;\n    cursor: pointer;\n"]);return je=function(){return e},e}function fe(){var e=Object(l.a)(["\n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n    -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n    box-sizing: border-box; \n\n"]);return fe=function(){return e},e}var ge=Object(h.a)($.a)(fe()),xe=Object(h.a)("a")(je());function pe(e){return Object(i.jsx)(ge,{interactive:!0,arrow:!0,title:e.definition,onClick:function(){return e.onClick&&e.infoPanel&&e.onClick(e.infoPanel)},children:Object(i.jsx)(xe,{children:e.children})})}function ve(){return Object(i.jsxs)(q.a,{variant:"body2",children:["X",Object(i.jsx)("sub",{children:"1"})," represents the first feature of a datapoint that is being entered into the neural network (shown on the X axis of the nodes in the neural network and the output graph).",Object(i.jsx)("br",{}),"Domain of X",Object(i.jsx)("sub",{children:"1"})," shown in the neural network is -8 to +8."]})}function Oe(){return Object(i.jsxs)(q.a,{variant:"body2",children:["X",Object(i.jsx)("sub",{children:"2"})," represents the second feature of a datapoint that is being entered into the neural network (shown on the Y axis of the nodes in the neural network and the output graph).",Object(i.jsx)("br",{}),"Domain of X",Object(i.jsx)("sub",{children:"2"})," shown in the neural network is -8 to +8."]})}var me=n.p+"static/media/Sigmoid-function-2.8e7151dc.svg";var we=function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Nodes"}),Object(i.jsx)("p",{children:"Nodes are the individual functions that make up the neural network and are connected to nodes in adjacent layers by links."}),Object(i.jsx)("h2",{children:"Usage"})]})};function ke(){var e=Object(l.a)(["\n    width: 600px;\n"]);return ke=function(){return e},e}var ye=Object(h.a)("img")(ke());var Ae=function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Activation Functions (\u03a6)"}),Object(i.jsxs)("p",{children:["Activation function of a ",Object(i.jsx)(pe,{definition:Object(i.jsxs)(q.a,{variant:"body2",children:["Nodes are the individual functions that make up the neural network and are connected to nodes in adjacent layers by links.",Object(i.jsx)("br",{}),Object(i.jsx)("u",{children:"Click the icon to get more information"})]}),onClick:e.setInfoPanel,infoPanel:Object(i.jsx)(we,Object(m.a)({},e.config)),children:"node"})]}),Object(i.jsx)("h2",{children:"Sigmoid"}),Object(i.jsx)(ye,{src:me,alt:"Sigmoid Function"}),Object(i.jsx)("p",{})]})},Ce=n(484),Se=n(486);var Ee=function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Datasets"}),Object(i.jsxs)("p",{children:["These are the data sets you can use to train and test your network. All the points in the data sets have 2 features (",Object(i.jsxs)(pe,{definition:ve(),children:["X",Object(i.jsx)("sub",{children:"1"})]})," and ",Object(i.jsxs)(pe,{definition:Oe(),children:["X",Object(i.jsx)("sub",{children:"2"})]}),") and fall under one of two classifications (-1 or +1)."]}),Object(i.jsx)("h2",{children:"Gaussian 2"}),Object(i.jsxs)("p",{children:["This data set is comprised of two 2-Dimensional Gaussian (or Normal) distributed sets of points, one for each class.",Object(i.jsx)("br",{}),Object(i.jsx)("a",{href:"https://en.wikipedia.org/wiki/Normal_distribution",target:"_blank",children:"Read more here (Wiki)"})]}),Object(i.jsx)("h2",{children:"Gaussian 3"}),Object(i.jsx)("p",{children:"This data set is comprised of three 2-Dimensional Gaussian (or Normal) distributed sets of points, one group of +1 points and two groups of -1 points."}),Object(i.jsx)("h2",{children:"XOR"}),Object(i.jsxs)("p",{children:["This data set represents an XOR distributed set of points which cannot be classified using a straight line.",Object(i.jsx)("br",{}),Object(i.jsx)("a",{href:"https://www.google.com/search?q=XOR",target:"_blank",children:"Read more here (Google)"})]})]})};function Ie(){var e=Object(l.a)(["\n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n    -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n    box-sizing: border-box;\n    //border: 2px solid ",";\n    border: 2px solid black;\n    //background-color: black;\n    background-color: white;\n    border-radius: 3px;\n    max-height: ","px;\n    cursor: pointer;\n"]);return Ie=function(){return e},e}var Be=Object(h.a)("div")(Ie(),(function(e){return e.active?"#000000":"#505050"}),(function(e){return e.nodeWidth+4}));var De,ze=function(e){return Object(i.jsx)(Be,{id:"".concat(e.id),nodeWidth:e.nodeWidth,active:e.active,onClick:function(){return e.handleOnClick&&e.nodeId&&e.handleOnClick(e.nodeId,e.active)},onMouseOver:function(){return e.handleOnHover&&e.nodeId&&e.handleOnHover(e.nodeId,e.active)},children:Object(i.jsx)(P,{width:e.nodeWidth,height:e.nodeWidth,numCells:e.numCells,padding:!1,disabled:!e.active,decisionBoundary:e.decisionBoundary,discreetBoundary:e.discreetBoundary})})},Le=n(115),Re=n.n(Le),Te=n(114),Ne=n.n(Te),We=function(e){var t=e.offsetX,n=void 0===t?0:t,r=e.offsetY,o=void 0===r?0:r,c=Object(ie.a)(e,["offsetX","offsetY"]),l=Object(m.a)({offsetX:n,offsetY:o},c),d=Object(a.useState)({x:0,y:0}),u=Object(s.a)(d,2),h=u[0],b=u[1],j=Object(a.useState)(!1),f=Object(s.a)(j,2),g=f[0],x=f[1],p=Object(a.useState)(!1),v=Object(s.a)(p,2),O=v[0],w=v[1];Object(a.useEffect)((function(){return y(),function(){A()}}),[]),Object(a.useEffect)((function(){!O&&l.visible&&y(),O&&!l.visible&&A()}),[l.visible,g]);var k=function(e){b({x:e.clientX,y:e.clientY}),x(!0)},y=function(){window.addEventListener("mousemove",k),w(!0)},A=function(){window.removeEventListener("mousemove",k),w(!1)};return Object(i.jsx)("div",{className:l.className,style:Object(m.a)({display:l.visible&&g?"block":"none",position:"fixed",top:h.y+l.offsetY,left:h.x+l.offsetX},l.style),children:l.children})};function Fe(){var e=Object(l.a)(["\n    position: absolute;\n    background-color: white;\n\n    ","\n    ","\n"]);return Fe=function(){return e},e}function Ge(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    align-items: center;\n"]);return Ge=function(){return e},e}function Me(){var e=Object(l.a)(["\n    grid-area: ",";\n"]);return Me=function(){return e},e}function Xe(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    align-items: center;\n"]);return Xe=function(){return e},e}function Qe(){var e=Object(l.a)(["\n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n    -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    padding-left: 50px;\n    padding-right: 0px;\n    width: 100%;\n    height: inherit;\n"]);return Qe=function(){return e},e}function Pe(){var e=Object(l.a)(['\n    position: relative;\n    display: grid;\n    height: 100%;\n    width: 50vw;\n    /* max-width: 40vw; */\n    min-width: 550px;\n    grid-template-columns: auto 1fr auto;\n    grid-template-rows: auto 1fr 48px;\n    grid-gap: 0px;\n    grid-template-areas: \n        "inputs-label layer-controls ."\n        "inputs-layer hidden-layers output"\n        ". hidden-layers ."\n        ;\n']);return Pe=function(){return e},e}function Ue(){var e=Object(l.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    align-self: flex-start;\n"]);return Ue=function(){return e},e}function Ve(){var e=Object(l.a)(["\n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n    -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n    box-sizing: border-box; \n    background-color: white;\n    margin: auto auto;\n    border-radius: 10px;\n    border: 2px solid #bdbdbd;\n    //border: 2px solid #353a3c;\n    width: 120px;\n    height: 60px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    z-index: 10000;\n    /* position: absolute; */\n    /* position: static; */\n"]);return Ve=function(){return e},e}!function(e){e[e.BIAS=0]="BIAS",e[e.WEIGHT=1]="WEIGHT"}(De||(De={}));var He=Object(h.a)("div")(Ve()),_e=Object(h.a)("div")(Ue()),Je=Object(h.a)("div")(Pe()),Ke=Object(h.a)("div")(Qe()),qe=Object(h.a)("div")(Xe()),Ye=Object(h.a)("div")(Me(),(function(e){return e.gridArea})),Ze=Object(h.a)((function(e){return Object(i.jsx)(Ye,Object(m.a)({gridArea:"layer-controls"},e))}))(Ge()),$e=Object(h.a)("canvas")(Fe(),(function(e){return e.visible&&"\n    transition: opacity 1.1s;\n    "}),(function(e){return!e.visible&&"\n    transition: opacity 0.1s;\n    "}));var et=function(e){var t=Object(a.useContext)(d),n=t.minColour,o=t.maxColour,c=Object(a.useRef)(null),l=Object(a.useRef)(null),u=30,h=Object(a.useState)(!1),j=Object(s.a)(h,2),f=j[0],x=j[1],p=Object(a.useState)(),v=Object(s.a)(p,2),O=v[0],m=v[1],w=Object(a.useState)(!1),k=Object(s.a)(w,2),y=k[0],A=k[1],C=Object(a.useState)({top:0,left:0,x:0,y:0,width:0,height:0}),S=Object(s.a)(C,2),E=S[0],I=S[1],B=Object(a.useState)(!1),D=Object(s.a)(B,2),z=D[0],L=D[1],R=Object(a.useState)({type:De.WEIGHT,value:0}),T=Object(s.a)(R,2),N=T[0],F=T[1],G=Object(a.useState)(""),M=Object(s.a)(G,2),X=M[0],Q=M[1];Object(a.useEffect)((function(){J();var e=document.getElementById("main-container");return e&&(window.addEventListener("resize",J),e.addEventListener("scroll",J)),function(){e&&(window.removeEventListener("resize",J),e.removeEventListener("scroll",J))}}),[]);var P=function(t){var n=t.target.id;!n||-1===n.indexOf("link")&&-1===n.indexOf("node")||n.substring(5)in e.inputs||(Q(n),L(!0))},U=function(e){var t=e.target.id;!t||-1===t.indexOf("link")&&-1===t.indexOf("node")||(Q(""),L(!1))};Object(a.useEffect)((function(){return x(!1),m(e.network),document.addEventListener("mouseenter",P,!0),document.addEventListener("mouseleave",U,!0),function(){document.removeEventListener("mouseenter",P,!0),document.removeEventListener("mouseleave",U,!0)}}),[e.network,e.inputs]),Object(a.useEffect)((function(){V(e.network),J()}),[e.decisionBoundaries]),Object(a.useEffect)((function(){V(e.network)}),[E]),Object(a.useEffect)((function(){if(""!==X)if(-1===X.indexOf("link")){var e=K(X);e&&F({type:De.BIAS,value:e.bias})}else{var t=Y(X);t&&F({type:De.WEIGHT,value:t.weight})}}),[X,e.decisionBoundaries]);var V=function(e){console.log("Draw Links");var t=Date.now();g.m(".link").remove();var n=H(e);if(n){for(var i=0,a=0;a<e.length;a++)for(var r=e[a],o=0;o<r.length;o++)for(var s=r[o],l=0;l<s.linksOut.length;l++){_(s.linksOut[l],n),i++}y||function(e){console.log("Draw Labels");var t=Object.keys(W),n=!1,i=g.l(c.current);i.selectAll(".input-label").remove(),t.forEach((function(t){var a=e[t];if(a){var r=null!=W[t].label?W[t].label:t,o=i.append("text").attr("class","input-label").attr("x",a.cx-17).attr("y",a.cy+7.5).attr("text-anchor","end").attr("alignment-baseline","middle");if(/[_^]/.test(r)){for(var c,s,l=/(.*?)([_^])(.)/g;null!=(c=l.exec(r));){s=l.lastIndex;var d=c[1],u=c[2],h=c[3];d&&o.append("tspan").text(d),o.append("tspan").attr("baseline-shift","_"===u?"sub":"super").style("font-size","9px").text(h)}s&&r.substring(s)&&o.append("tspan").text(r.substring(s))}else o.append("tspan").text(r)}else n=!0})),n||A(!0)}(n),x(!0);var d=Date.now()-t;console.log("Finished drawing links (Links Drawn: ".concat(i,") (Duration: ").concat(d,"ms)"))}},H=function(e){var t=l.current;if(!e||!t)return null;for(var n={},i=(t.offsetLeft,t.offsetTop,0);i<e.length;i++){var a=e[i];if(0===i){Object.keys(W).forEach((function(e){var t=document.getElementById("node-".concat(e));t&&(n[e]={cx:t.offsetLeft+15,cy:t.offsetTop+15})}))}else for(var r=0;r<a.length;r++){var o=a[r],c=document.getElementById("node-".concat(o.id));c&&(n[o.id]={cx:c.offsetLeft+15,cy:c.offsetTop+15})}}return n};function _(e,t){var i=g.l(c.current).append("path"),a=t[e.source.id],r=t[e.dest.id];if(r&&a){var s={source:[a.cx+15+2,a.cy],target:[r.cx-15,r.cy]},l=g.g().x((function(e){return e[0]})).y((function(e){return e[1]}))(s),d=function(e){var t=g.j().domain([-1,0,1]).range([6,1.5,6]).clamp(!0);return{color:e.weight>0?o:n,size:t(e.weight)}}(e);return l&&i.attr("marker-start","url(#markerArrow)").attr("class","link").attr("id","link-".concat(e.source.id,"-").concat(e.dest.id)).attr("d",l).attr("fill","transparent").attr("pointer-events","all").attr("stroke",d.color).attr("stroke-width",d.size||0).attr("stroke-dasharray","10,2").on("mouseover",(function(e,t){g.l(this).transition().duration(1e5).ease(g.e).attr("stroke-dashoffset",-8e3)})).on("mouseout",(function(e,t){g.l(this).transition()})),i}}var J=function(){var e=l.current;if(e){var t=e.getBoundingClientRect();I({left:-t.x,top:-t.y,x:t.x,y:t.y,width:t.width,height:t.height})}},K=function(t){if(!e.network)return null;for(var n=t.substring(5),i=0;i<e.network.length;i++)for(var a=0;a<e.network[i].length;a++){var r=e.network[i][a];if(r.id===n)return r}},Y=function(t){if(!e.network)return null;var n=t.split("-"),i=n[1],a=n[2],r=K("node-"+i);if(!r)return null;for(var o=0;o<r.linksOut.length;o++){var c=r.linksOut[o];if(c.dest.id===a)return c}return null};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(Je,{style:{overflow:"hidden"},ref:l,children:[Object(i.jsx)("svg",{ref:c,width:E.width,height:E.height,style:{position:"absolute",pointerEvents:"none"},id:"lines-container"}),!O||!f&&Object(i.jsx)($e,{visible:!0,width:E.width,height:E.height}),Object(i.jsxs)("div",{style:{paddingTop:"10px",paddingLeft:"30px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gridArea:"inputs-label"},children:[Object(i.jsx)(q.a,{children:"Inputs"}),Object(i.jsx)(zt,{title:"Inputs Tooltip",fontSize:"small",marginRight:0,marginLeft:5,children:Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(q.a,{color:"inherit",children:"Inputs"}),Object(i.jsxs)(q.a,{variant:"body2",children:["The inputs determine the data that is input into the neural network from the data set. Each input is a function of ",Object(i.jsxs)(pe,{definition:ve(),children:["X",Object(i.jsx)("sub",{children:"1"})]})," and/or ",Object(i.jsxs)(pe,{definition:Oe(),children:["X",Object(i.jsx)("sub",{children:"2"})]}),"."]})]})})]}),Object(i.jsxs)(Ze,{children:[Object(i.jsx)(b.a,{onClick:e.removeLayer,children:Object(i.jsx)(Ne.a,{})}),Object(i.jsxs)(q.a,{children:[" Hidden Layers: ",e.config.networkShape.length-2]}),Object(i.jsx)(b.a,{onClick:e.addLayer,children:Object(i.jsx)(Re.a,{})})]}),Object(i.jsx)(Ke,{style:{gridArea:"inputs-layer",paddingLeft:"60px"},children:Object(i.jsx)(qe,{children:O&&Object.keys(W).map((function(t){return Object(i.jsx)(ze,{id:"node-".concat(t),nodeId:t,active:e.inputs[t],nodeWidth:u,numCells:20,decisionBoundary:e.decisionBoundaries[t],discreetBoundary:e.discreetBoundary,handleOnClick:e.handleOnClick})}))})}),Object(i.jsx)(Ke,{style:{width:"100%",height:"100%",paddingLeft:"0px",justifyContent:"space-around",gridArea:"hidden-layers"},children:O&&O.slice(1,O.length-1).map((function(t,n){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(i.jsx)(qe,{style:{flexGrow:1},children:t.map((function(t){return Object(i.jsx)(ze,{id:"node-".concat(t.id),nodeWidth:u,numCells:20,active:!0,decisionBoundary:e.decisionBoundaries[t.id],discreetBoundary:e.discreetBoundary})}))}),n!==O.length-2&&Object(i.jsxs)(_e,{style:{flexGrow:0},children:[Object(i.jsx)(b.a,{onClick:function(){return e.removeNode(n+1)},children:Object(i.jsx)(Ne.a,{})}),Object(i.jsx)(b.a,{onClick:function(){return e.addNode(n+1)},children:Object(i.jsx)(Re.a,{})})]})]})}))}),Object(i.jsx)(Ke,{style:{width:"100%",height:"100%",paddingLeft:"0px",gridArea:"output",paddingRight:"10px"},children:O&&O.slice(O.length-1).map((function(t,n){return Object(i.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(i.jsx)(qe,{style:{flexGrow:1},children:t.map((function(t){return Object(i.jsx)(ze,{id:"node-".concat(t.id),nodeWidth:u,numCells:20,active:!0,decisionBoundary:e.decisionBoundaries[t.id],discreetBoundary:e.discreetBoundary})}))})})}))})]}),Object(i.jsx)(We,{visible:z,style:{pointerEvents:"none"},children:Object(i.jsxs)(He,{children:[N.type===De.WEIGHT&&Object(i.jsxs)("p",{children:["Weight: ",N.value.toFixed(3)]}),N.type===De.BIAS&&Object(i.jsxs)("p",{children:["Bias: ",N.value.toFixed(3)]})]})})]})};var tt=function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Loss"}),Object(i.jsx)("p",{})]})};var nt=function(e){var t=Object(a.useRef)(null),n=Object(a.useRef)(null),r=e.horizontal?8:20,o=e.horizontal?20:4;Object(a.useEffect)((function(){c()}),[]);var c=function(){var i=g.l(t.current).attr("width",e.width+r+8).attr("height",e.height+o+4);i.selectAll("*").remove();var a=g.j().domain([-1,1]).range(e.horizontal?[0,e.width-1]:[e.height-1,0]),c=i.append("g").attr("transform","translate(".concat(r,", ").concat(4,")"));c.append("g").attr("transform","translate(0,".concat(e.horizontal?e.height:0,")")).call((e.horizontal?g.a(a):g.b(a)).tickValues([0].concat(a.ticks(2))).tickSize(3));var s=g.j().domain([0,.5,1]).range([e.minColour,e.midColour,e.maxColour]).clamp(!0),l=e.numShades||100,d=g.h(0,1+1e-9,1/l).map((function(e){return s(e)||0})),u=g.k().domain(e.horizontal?[0,e.width]:[0,e.height]).range(d),h=n.current,b=null===h||void 0===h?void 0:h.getContext("2d");if(b){var j=e.horizontal?e.width:1,f=e.horizontal?1:e.height,x=b.createImageData(j,f);if(x){for(var p=x.data,v=-1,O=e.horizontal?0:e.height;e.horizontal?O<=e.width:O>=0;e.horizontal?O++:O--){var m=g.i(u(O));p[++v]=m.r,p[++v]=m.g,p[++v]=m.b,p[++v]=200}b.putImageData(x,0,0),c.select(".domain").attr("opacity","0")}}};return Object(i.jsxs)("div",{style:{position:"relative"},children:[Object(i.jsx)("svg",{ref:t,width:e.width+r,height:e.height+o+4,style:{position:"absolute"}}),Object(i.jsx)("canvas",{ref:n,width:e.horizontal?e.width:1,height:e.horizontal?1:e.height,style:{width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),paddingLeft:"".concat(r,"px"),paddingTop:"".concat(4,"px"),paddingRight:"".concat(8,"px"),paddingBottom:"".concat(o,"px")}})]})};function it(){var e=Object(l.a)(["\n    float: left;\n    height: 1em;\n    width: 1em;\n    border: 1px solid black;\n    background-color: ",";\n    clear: both;\n    margin-right: 5px;\n"]);return it=function(){return e},e}function at(){var e=Object(l.a)(["\n    font-size: 14px;\n"]);return at=function(){return e},e}function rt(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    align-items: center;\n"]);return rt=function(){return e},e}function ot(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: left;\n    padding-left: 30px;\n    padding-top: 10px;\n    position: relative;\n    max-width: inherit;\n    /* max-width: fit-content; */\n"]);return ot=function(){return e},e}function ct(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: stretch;\n    padding: 0px;\n    justify-content: space-around;\n    align-items: center;\n"]);return ct=function(){return e},e}function st(){var e=Object(l.a)(["\n    display: block;\n"]);return st=function(){return e},e}function lt(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    /* max-width: fit-content; */\n"]);return lt=function(){return e},e}function dt(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n    padding-top: 15px;\n    padding-bottom: 15px;\n    padding-left: 10px;\n    padding-right: 10px;\n    justify-content: left;\n"]);return dt=function(){return e},e}function ut(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: left;\n    padding-left: 30px;\n    padding-top: 10px;\n"]);return ut=function(){return e},e}function ht(){var e=Object(l.a)(["\n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n    -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n    box-sizing: border-box; \n    grid-area: ",";\n    background-color: white;\n    margin: auto auto;\n    width: 100%;\n    height: 100%;\n    padding: 5px;\n    border-radius: 30px;\n    border: 2px solid #bdbdbd;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n"]);return ht=function(){return e},e}function bt(){var e=Object(l.a)(["\n    display: flex;\n    align-content: flex-end;\n"]);return bt=function(){return e},e}function jt(){var e=Object(l.a)(["\n    color: #ffffff;\n"]);return jt=function(){return e},e}function ft(){var e=Object(l.a)(['\n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n    -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n    box-sizing: border-box; \n    margin: 0px auto auto auto;\n    display: grid;\n    width: auto;\n    /* min-width: 1400px; */\n    min-height: 600px;\n    transition: padding 0.4s ease-in-out;\n    padding: 20px;\n    padding-left: 20px;\n    padding-right: 20px;\n    \n    /* max-width: 100%; */\n\n    // Using values from NeuralNetworkVis for middle column\n    grid-template-columns: 230px max(560px, calc(50vw + 10px)) min-content;\n    grid-template-rows: 90px 1fr 80px auto;\n    grid-gap: 15px;\n    grid-template-areas: \n        "config-bar config-bar config-bar"\n        "control-panel network nn-graph"\n        "stats stats stats"\n        "info info info";\n']);return ft=function(){return e},e}function gt(){var e=Object(l.a)(["\n    background-color: inherit;\n"]);return gt=function(){return e},e}function xt(){var e=Object(l.a)(["\n    margin-left: 10px;\n    min-width: 130px;\n    background-color: inherit;\n"]);return xt=function(){return e},e}function pt(){var e=Object(l.a)(["\n    margin: 5px;\n"]);return pt=function(){return e},e}var vt=Object(h.a)(V.a)(pt()),Ot=Object(h.a)(H.a)(xt()),mt=Object(h.a)(_.a)(gt()),wt=Object(h.a)("div")(ft()),kt=Object(h.a)(b.a)(jt()),yt=Object(h.a)("div")(bt()),At=Object(h.a)("div")(ht(),(function(e){return e.gridArea})),Ct=Object(h.a)((function(e){return Object(i.jsx)(At,Object(m.a)({gridArea:"config-bar"},e))}))(ut()),St=Object(h.a)((function(e){return Object(i.jsx)(At,Object(m.a)({gridArea:"control-panel"},e))}))(dt()),Et=Object(h.a)((function(e){return Object(i.jsx)(At,Object(m.a)({gridArea:"network"},e))}))(lt()),It=Object(h.a)((function(e){return Object(i.jsx)(At,Object(m.a)({gridArea:"nn-graph"},e))}))(st()),Bt=Object(h.a)((function(e){return Object(i.jsx)(At,Object(m.a)({gridArea:"stats"},e))}))(ct()),Dt=Object(h.a)((function(e){return Object(i.jsx)(At,Object(m.a)({gridArea:"info"},e))}))(ot()),zt=(Object(h.a)("div")(rt()),Object(h.a)(le)(at()));var Lt=Object(h.a)("div")(it(),(function(e){return e.colour}));var Rt=function(e){var t=Object(a.useContext)(d),n=t.minColour,o=t.minColourName,c=t.maxColour,l=t.maxColourName,u=t.midColour,h=Object(a.useState)(100),p=Object(s.a)(h,2),v=p[0],O=p[1],w=Object(a.useState)(.2),k=Object(s.a)(w,2),y=k[0],A=k[1],C=Object(a.useState)("Gaussian2"),S=Object(s.a)(C,2),I=S[0],B=S[1],L=Object(a.useState)([]),R=Object(s.a)(L,2),T=R[0],P=R[1],V=Object(a.useState)({networkShape:[2,2,2,1],activationFunction:"Tanh",learningRate:.03,inputs:{x:!0,y:!0,xSquared:!1,ySquared:!1,xTimesY:!1,sinX:!1,sinY:!1},batchSize:10}),H=Object(s.a)(V,2),_=H[0],Z=H[1],$=Object(a.useState)(),ee=Object(s.a)($,2),te=ee[0],ie=ee[1],ae=Object(a.useState)({}),re=Object(s.a)(ae,2),oe=re[0],ce=re[1],se=Object(a.useState)([]),le=Object(s.a)(se,2),ue=le[0],he=le[1],je=Object(a.useState)(0),fe=Object(s.a)(je,2),ge=fe[0],xe=fe[1],me=Object(a.useState)(0),we=Object(s.a)(me,2),ke=we[0],ye=we[1],Ie=Object(a.useState)(!1),Be=Object(s.a)(Ie,2),De=Be[0],ze=Be[1],Le=Object(a.useState)([]),Re=Object(s.a)(Le,2),Te=Re[0],Ne=Re[1],We=Object(a.useState)(!1),Fe=Object(s.a)(We,2),Ge=Fe[0],Me=Fe[1],Xe=Object(a.useState)(),Qe=Object(s.a)(Xe,2),Pe=Qe[0],Ue=Qe[1],Ve=Object(a.useState)(),He=Object(s.a)(Ve,2),_e=(He[0],He[1],Object(a.useState)(!1)),Je=Object(s.a)(_e,2),Ke=Je[0],qe=Je[1],Ye=Object(a.useState)(Object(i.jsx)(de,Object(m.a)({},_))),Ze=Object(s.a)(Ye,2),$e=Ze[0],it=Ze[1],at=Object(a.useState)(),rt=Object(s.a)(at,2),ot=rt[0],ct=rt[1],st=Object(a.useState)(),lt=Object(s.a)(st,2),dt=(lt[0],lt[1],Object(a.useState)([])),ut=Object(s.a)(dt,2),ht=ut[0],bt=ut[1],jt=Object(a.useState)([]),ft=Object(s.a)(jt,2),gt=ft[0],xt=ft[1],pt=Object(a.useState)(),At=Object(s.a)(pt,2),Rt=At[0],Tt=At[1];Object(a.useEffect)((function(){console.log("Config change useEffect"),Ge&&Qt(),Wt(),Nt()}),[_]),Object(a.useEffect)((function(){Gt()}),[oe]),Object(a.useEffect)((function(){console.log("Config change useEffect"),Ft()}),[te]),Object(a.useEffect)((function(){console.log("Dataset/Noise change useEffect"),Mt()}),[I,y,v]),Object(a.useEffect)((function(){0!==ke&&te&&Ne((function(e){return e.concat([[ke,X(te,T,_.inputs)]])}))}),[ke]);var Nt=function(){console.log("Generating dataset"),P(function(e,t,n){return(0,N[e])(t,n)}(I,v,y))},Wt=function(){if(console.log("Generating network"),Ke)console.log("Loading network original state"),ot&&(console.log(ot),ie(Q(ot)));else{var e=F(_);ie(e);var t=Q(e);console.log(t),ct(t)}ye(0),Ne([])},Ft=function(){te&&(ce(function(e,t,n,i,a){for(var r={},o=g.j().domain([0,t]).range(n),c=g.j().domain([t,0]).range(i),s=0,l=Object.keys(W),d=0;d<t;d++)for(var u=function(t){var n=o(t),i=c(d),u=G(n||0,i||0,a);E(e,u),D(e,(function(e){r[e.id]||(r[e.id]=[]),r[e.id][s]=e.output})),l.forEach((function(e){r[e]||(r[e]=[]),r[e][s]=W[e].f(n||0,i||0)})),s++},h=0;h<t;h++)u(h);return r}(te,20,e.xDomain,e.yDomain,_.inputs)),T&&xe(X(te,T,_.inputs)))},Gt=function(){te&&he(function(e,t,n,i,a){for(var r=g.j().domain([0,t]).range(n),o=g.j().domain([t,0]).range(i),c=[],s=0,l=0;l<t;l++)for(var d=0;d<t;d++)E(e,G(r(d)||0,o(l)||0,a)),c[s++]=z(e).output;return c}(te,e.numCells,e.xDomain,e.yDomain,_.inputs))},Mt=function(){console.log("Reset"),Ge&&Qt(),Wt(),Ke||Nt()},Xt=function(e){if(console.log("MainPage step(".concat(e,")")),te&&T){for(var t=Date.now(),n=0;n<e;n++)M(te,T,_.learningRate,_.inputs,_.batchSize),ye((function(e){return e+1}));Date.now();t=Date.now(),Ft(),Date.now()-t}},Qt=function(){Ge?clearInterval(Pe):Ue(setInterval((function(){Xt(1)}),500)),Me(!Ge)},Pt=function(e){console.log(e);var t=ht;t.push($e),console.log(t),console.log($e),it(e),bt(t),xt([])};return Object(i.jsxs)(wt,{id:"main-page",children:[Object(i.jsxs)(Ct,{children:[Object(i.jsxs)(Ot,{variant:"filled",children:[Object(i.jsx)(J.a,{children:"Activation"}),Object(i.jsxs)(mt,{value:_.activationFunction,onChange:function(e){Z(Object(m.a)(Object(m.a)({},_),{},{activationFunction:e.target.value}))},children:[Object(i.jsx)(K.a,{value:"Tanh",children:"Tanh"}),Object(i.jsx)(K.a,{value:"ReLU",children:"ReLU"}),Object(i.jsx)(K.a,{value:"Sigmoid",children:"Sigmoid"})]})]}),Object(i.jsx)(zt,{title:"Activation Tooltip",onClick:Pt,infoPanel:Object(i.jsx)(Ae,{config:_,setInfoPanel:Pt}),children:Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(q.a,{color:"inherit",children:"Activation Function (\u03a6)"}),Object(i.jsx)(q.a,{variant:"body2",children:"The activation defines the output of a neuron (node)."}),Object(i.jsx)("br",{}),Object(i.jsx)("u",{children:"Click the icon to get more information"})]})}),Object(i.jsx)(Y.a,{orientation:"vertical",flexItem:!0}),Object(i.jsxs)(Ot,{variant:"filled",children:[Object(i.jsx)(J.a,{children:"Learning Rate"}),Object(i.jsxs)(mt,{value:_.learningRate,onChange:function(e){Z(Object(m.a)(Object(m.a)({},_),{},{learningRate:e.target.value}))},children:[Object(i.jsx)(K.a,{value:"0.03",children:"0.03"}),Object(i.jsx)(K.a,{value:"0.005",children:"0.005"})]})]}),Object(i.jsx)(zt,{title:"Learning Rate Tooltip",onClick:Pt,infoPanel:Object(i.jsx)(be,Object(m.a)({},_)),children:Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(q.a,{color:"inherit",children:"Learning Rate (\u03b5)"}),Object(i.jsx)(q.a,{variant:"body2",children:"This affects the rate at which the weights and biases change when training the neural network."}),Object(i.jsx)("br",{}),Object(i.jsx)("u",{children:"Click the icon to get more information"})]})}),Object(i.jsx)(Y.a,{orientation:"vertical",flexItem:!0}),Object(i.jsxs)(Ot,{variant:"filled",children:[Object(i.jsx)(J.a,{children:"Dataset"}),Object(i.jsxs)(mt,{value:I,onChange:function(e){B(e.target.value)},children:[Object(i.jsx)(K.a,{value:"Gaussian2",children:"2 Gaussian"}),Object(i.jsx)(K.a,{value:"Gaussian3",children:"3 Gaussian"}),Object(i.jsx)(K.a,{value:"XOR",children:"XOR"})]})]}),Object(i.jsx)(zt,{title:"Dataset Tooltip",onClick:Pt,infoPanel:Object(i.jsx)(Ee,Object(m.a)({},_)),children:Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(q.a,{color:"inherit",children:"Datasets"}),Object(i.jsx)(q.a,{variant:"body2",children:"Defines the shape of the dataset we want our neural network to solve."}),Object(i.jsx)("br",{}),Object(i.jsx)("u",{children:"Click the icon to get more information"})]})}),Object(i.jsx)(Y.a,{orientation:"vertical",flexItem:!0}),Object(i.jsx)(ne,{label:"Dataset Size",min:10,step:10,max:500,defaultValue:v,onChange:function(e,t){O(t)},appendValueToLabel:!0}),Object(i.jsx)(zt,{title:"Sample Size Tooltip",children:Object(i.jsx)(r.a.Fragment,{children:Object(i.jsxs)(q.a,{variant:"body2",children:["Changes the number of samples in the dataset. ",Object(i.jsx)("br",{}),"(Training is done using 80% of the samples and the remaining 20% are used as the test dataset. "]})})}),Object(i.jsx)(Y.a,{orientation:"vertical",flexItem:!0}),Object(i.jsx)(ne,{label:"Noise",min:0,step:.1,max:1,defaultValue:y,onChange:function(e,t){A(t)},appendValueToLabel:!0}),Object(i.jsx)(zt,{title:"Noise Tooltip",children:Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(q.a,{color:"inherit",children:"Noise"}),Object(i.jsx)(q.a,{variant:"body2",children:"This sets the noise in the generated data set. The more noise the greater the variance in the generated data."})]})}),Object(i.jsx)(Y.a,{orientation:"vertical",flexItem:!0}),Object(i.jsx)(ne,{label:"Batch Size",min:1,step:1,max:10,defaultValue:_.batchSize,onChange:function(e,t){Z(Object(m.a)(Object(m.a)({},_),{},{batchSize:t}))},appendValueToLabel:!0}),Object(i.jsx)(zt,{title:"Batch Size Tooltip",children:Object(i.jsx)(r.a.Fragment,{children:Object(i.jsxs)(q.a,{variant:"body2",children:["Specifies the number of training samples used in each epoch of ",Object(i.jsx)("a",{href:"https://www.google.com/search?q=mini+batch+gradient+descent",target:"_blank",children:"Mini-Batch Gradient Decent"}),".",Object(i.jsx)("br",{}),"(When batch size = 1, this is equivalent to ",Object(i.jsx)("a",{href:"https://www.google.com/search?q=stochastic+gradient+descent",target:"_blank",children:"Stochastic Gradient Decent"}),") "]})})})]}),Object(i.jsxs)(St,{children:[Object(i.jsx)(vt,{variant:"contained",onClick:function(){return Xt(1)},children:" Step 1"}),Object(i.jsxs)(vt,{variant:"contained",onClick:function(){return Qt()},children:[" Auto Train: ",Object(i.jsx)("b",{children:Ge?"On":"Off"})]}),Object(i.jsx)(vt,{variant:"contained",onClick:function(){ze(!De)},children:" Toggle Discreet Boundary "}),Object(i.jsx)(vt,{variant:"contained",color:"primary",onClick:function(){Nt(),Ge&&Qt()},children:" Regenerate Dataset "}),Object(i.jsx)(vt,{variant:"contained",color:"secondary",onClick:Mt,children:" Reset "}),Object(i.jsx)(vt,{variant:"contained",onClick:function(){Tt({config:_,dataset:T,datasetType:I,decisionBoundaries:oe,decisionBoundary:ue,epochs:ke,loss:ge,lossData:Te,noise:y}),qe(!0)},children:" Save Current Network State "}),Object(i.jsx)(vt,{variant:"contained",onClick:function(){Mt()},disabled:!Ke,children:" Load Network State "}),Object(i.jsx)(vt,{variant:"contained",onClick:function(){Tt(void 0),qe(!1)},children:" Clear Network State "})]}),Object(i.jsxs)(It,{children:[Object(i.jsxs)("div",{style:{display:"flex",marginLeft:"25px"},children:[Object(i.jsx)(q.a,{variant:"h6",children:"Output"}),Object(i.jsx)(zt,{title:"Output Tooltip",marginLeft:5,fontSize:"small",onClick:Pt,infoPanel:Object(i.jsx)(tt,Object(m.a)({},_)),children:Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(q.a,{color:"inherit",children:"Output"}),Object(i.jsxs)(q.a,{variant:"body2",children:["This graph shows the final output of the neural network in the domain (-8, +8) for both the ",Object(i.jsxs)(pe,{definition:ve(),children:["X",Object(i.jsx)("sub",{children:"1"})]})," and ",Object(i.jsxs)(pe,{definition:Oe(),children:["X",Object(i.jsx)("sub",{children:"2"})]})," features.",Object(i.jsx)("br",{})," The samples in the data sets used only have 2 classes (-1 and +1); the neural network defines a decision boundary so that points that are in",Object(i.jsx)("br",{})," ",o," ",Object(i.jsx)(Lt,{colour:n})," sections of the graph are classified as class -1 and points that are in ",Object(i.jsx)("br",{})," ",l," ",Object(i.jsx)(Lt,{colour:c})," sections of the graph are classified as class +1."]}),Object(i.jsx)("br",{})]})}),Object(i.jsx)(nt,{width:150,height:15,maxColour:c,minColour:n,midColour:u,maxValue:1,minValue:-1,midValue:0,numShades:100,horizontal:!0})]}),T&&te&&Object(i.jsx)(U,{dataset:T,density:25,canvasWidth:250,marginLeft:35,marginRight:20,marginTop:20,marginBottom:40,numCells:e.numCells,xDomain:e.xDomain,yDomain:e.yDomain,decisionBoundary:ue,discreetBoundary:De}),Object(i.jsxs)("div",{style:{marginLeft:"10px"},children:[Object(i.jsxs)("p",{style:{marginTop:"0px",marginBottom:"0px"},children:[" Epochs: ",ke," "]}),Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start"},children:[Object(i.jsxs)("p",{style:{marginTop:"0px",marginBottom:"0px"},children:[" Loss: ",ge.toFixed(3)," "]}),Object(i.jsx)(zt,{title:"Loss Tooltip",marginLeft:5,fontSize:"small",onClick:Pt,infoPanel:Object(i.jsx)(tt,Object(m.a)({},_)),children:Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(q.a,{color:"inherit",children:"Loss"}),Object(i.jsxs)(q.a,{variant:"body2",children:["This is loss calculated using the ",Object(i.jsx)("a",{href:"https://www.google.com/search?q=sum+squared+residuals",target:"_blank",children:"sum of squared residulals"})," between the output of our neural network and the expected output from out training set."]}),Object(i.jsx)("br",{}),Object(i.jsx)("u",{children:"Click the icon to get more information"})]})})]}),Object(i.jsx)(x,{height:60,width:170,margin:5,dataset:Te,comparisionData:null===Rt||void 0===Rt?void 0:Rt.lossData})]})]}),Object(i.jsx)(Et,{children:T&&te&&Object(i.jsx)(et,{network:te,decisionBoundaries:oe,discreetBoundary:De,inputs:_.inputs,config:_,networkWidth:650,networkHeight:550,handleOnClick:function(e,t){var n=Object(m.a)({},_.inputs),i=_.networkShape;if(t){var a=0;if(Object.keys(_.inputs).forEach((function(e){_.inputs[e]&&a++})),!(a>1))return;n[e]=!1,i[0]=i[0]-1}else n[e]=!0,i[0]=i[0]+1;Z(Object(m.a)(Object(m.a)({},_),{},{inputs:n,networkShape:i}))},addNode:function(e){if(console.log("Running addNode"),_.networkShape[e]<5){var t=_.networkShape;t[e]=_.networkShape[e]+1,Z(Object(m.a)(Object(m.a)({},_),{},{networkShape:t}))}},removeNode:function(e){if(console.log("Running removeNode"),_.networkShape[e]>1){var t=_.networkShape;t[e]=_.networkShape[e]-1,Z(Object(m.a)(Object(m.a)({},_),{},{networkShape:t}))}},addLayer:function(){if(console.log("Running addLayer"),_.networkShape.length<6){var e=_.networkShape;e.pop(),e.push(e[e.length-1]),e.push(1),console.log(e),Z(Object(m.a)(Object(m.a)({},_),{},{networkShape:e}))}},removeLayer:function(){if(console.log("Running removeLayer"),_.networkShape.length>2){var e=_.networkShape;e.pop(),e.pop(),e.push(1),console.log(e),Z(Object(m.a)(Object(m.a)({},_),{},{networkShape:e}))}},setInfoPanel:Pt})}),Object(i.jsx)(Bt,{}),Object(i.jsxs)(Dt,{children:[$e,Object(i.jsxs)("div",{style:{position:"absolute",right:"40px",top:"30px"},children:[Object(i.jsx)(b.a,{onClick:function(){if(0!==ht.length){var e=ht,t=gt,n=e.pop();t.unshift($e),bt(e),xt(t),n&&it(n)}},children:Object(i.jsx)(f.a,{})}),Object(i.jsx)(b.a,{onClick:function(){Pt(Object(i.jsx)(de,Object(m.a)({},_)))},children:Object(i.jsx)(Ce.a,{fontSize:"large"})}),Object(i.jsx)(b.a,{onClick:function(){if(0!==gt.length){var e=ht,t=gt,n=t.shift();e.push($e),bt(e),xt(t),n&&it(n)}},children:Object(i.jsx)(j.a,{})})]})]}),Object(i.jsx)(yt,{children:Object(i.jsx)("a",{href:"https://git-teaching.cs.bham.ac.uk/mod-ug-proj-2020/bxg796",target:"_blank",children:Object(i.jsx)(kt,{children:Object(i.jsx)(Se.a,{color:"inherit"})})})})]})};var Tt=function(e,t,n,i){var r=Object(a.useRef)();Object(a.useEffect)((function(){var a=(null===n||void 0===n?void 0:n.current)||window,o=i||!1;if(a&&a.addEventListener){r.current!==t&&(r.current=t);var c=function(e){(null===r||void 0===r?void 0:r.current)&&r.current(e)};return a.addEventListener(e,c,o),function(){a.removeEventListener(e,c,o)}}}),[e,n,t,i])},Nt=n(70);function Wt(){var e=Object(l.a)(["\n            body {\n              background: ","\n            }"]);return Wt=function(){return e},e}function Ft(){var e=Object(l.a)(["\n    position: absolute;\n    background: white;\n    border-radius: 50%;\n    width: 50px;\n    height: 50px;\n    top: 50%;\n    left: 95%;\n    z-index: 500;\n    transition: all "," ease-in-out;\n    &.active {\n        left: 5%;\n    }\n"]);return Ft=function(){return e},e}function Gt(){var e=Object(l.a)(["\n    position: relative;\n    min-width: 100vw;\n    height: 100vh;\n    /* min-width: 100%; */\n    width: auto;\n    display: flex;\n    overflow-x: hidden;\n    left: 0%;\n"]);return Gt=function(){return e},e}function Mt(){var e=Object(l.a)(["\n        -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n        -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n        box-sizing: border-box; \n        position: absolute;\n        display: flex;\n        /* justify-content: center; */\n        margin-top: auto;\n        min-height: 100vh;\n        width: calc(100vw - (100vw - 100%));\n        /* max-width: 100vw; */\n        overflow-x: auto;\n    \n\n    &.main {\n        margin-right: max(60px,);\n        left: 0%;\n        transition: all 0.7s ease-in-out;\n        &.active {\n        left: -100%;\n        }\n    }\n\n    &.compare {\n        left: 100%;\n        transition: all 0.7s ease-in-out;\n        &.active {\n        left: 0%;\n        }\n    }\n"]);return Mt=function(){return e},e}function Xt(){var e=Object(l.a)(["\n    //min-width: 130px;\n    //max-width: 100%;\n"]);return Xt=function(){return e},e}function Qt(){var e=Object(l.a)(["\n"]);return Qt=function(){return e},e}function Pt(){var e=Object(l.a)(["\n\n"]);return Pt=function(){return e},e}var Ut=Object(h.a)(Rt)(Pt()),Vt=Object(h.a)(O)(Qt()),Ht=Object(h.a)("div")(Xt()),_t=Object(h.a)("div")(Mt()),Jt=Object(h.a)("div")(Gt()),Kt=Object(h.a)(b.a)(Ft(),(function(e){return e.transitioning?"0.7s":"0s"}));var qt=function(){var e=Object(a.useContext)(d).background,t=Object(a.createRef)(),n=Object(a.useState)("main"),r=Object(s.a)(n,2),o=r[0],c=r[1],l=Object(a.useState)(!1),u=Object(s.a)(l,2),h=u[0],b=u[1],g=Object(a.useState)(0),x=Object(s.a)(g,2),p=x[0],v=x[1],O=Object(a.useState)(!1),m=Object(s.a)(O,2),w=m[0],k=m[1],y=Object(a.useState)(),A=Object(s.a)(y,2),C=A[0],S=A[1];Object(a.useEffect)((function(){w&&I()}),[w]),Object(a.useEffect)((function(){setTimeout((function(){console.log(o),k(!1),E()}),700)}),[o]),Object(a.useEffect)((function(){I()}),[h]);var E=function(){console.log("Updating container size");var e=140;if("main"===o){var t=document.getElementById("main-container"),n=document.getElementById("main-page"),i=document.getElementById("dynamic-margin-main");if(!t||!n||!i)return;if(console.log("Conatainer width: "+t.offsetWidth),console.log("Page width: "+n.offsetWidth),console.log("Margin width: "+p),t.offsetWidth-p<n.offsetWidth+e){var a=Math.min(n.offsetWidth+e-t.offsetWidth,e);i.style.minWidth="".concat(a,"px"),b(!0),v(a),console.log("Margin added")}else i.style.minWidth="0px",b(!1),v(0),console.log("Margin removed")}if("compare"===o){var r=document.getElementById("compare-container"),c=document.getElementById("compare-page"),s=document.getElementById("dynamic-margin-compare");if(!r||!c||!s)return;if(console.log("Conatainer width: "+r.offsetWidth),console.log("Page width: "+c.offsetWidth),console.log("Margin width: "+p),r.offsetWidth-p<c.offsetWidth+e){var l=Math.min(c.offsetWidth+e-r.offsetWidth,e);s.style.minWidth="".concat(l,"px"),b(!0),v(l),console.log("Margin added")}else s.style.minWidth="0px",b(!1),v(0),console.log("Margin removed")}},I=function(){console.log("Updating button position");var e=document.getElementById("transition-button");if(e)if(console.log("Margin added: "+h),console.log("Transitioning: "+w),console.log("Pagestate: "+o),w)e.style.left="compare"===o?"5%":"95%";else if(h){if("main"===o){var t=document.getElementById("main-container"),n=document.getElementById("main-page");if(!t||!n)return;var i=t.getBoundingClientRect(),a=n.getBoundingClientRect();a.right+70>=i.width?e.style.left="".concat(a.right+20,"px"):(e.style.left="min(95%, calc(".concat(a.x+a.width,"px + 2%))"),console.log("here")),console.log(a),console.log(i)}if("compare"===o){var r=document.getElementById("compare-container"),c=document.getElementById("compare-page");if(!r||!c)return;var s=r.getBoundingClientRect(),l=c.getBoundingClientRect();l.left-60<=s.width?e.style.right="100%":(e.style.left="min(95%, calc(".concat(l.x+l.width,"px + 2%))"),console.log("here")),console.log(l),console.log(s)}}else console.log("heer"),e.style.left="main"===o?"95%":"5%"};return Tt("resize",(function(){E(),I()})),Tt("scroll",I,t),Object(i.jsxs)(Jt,{children:[Object(i.jsx)(Nt.a,{styles:Object(Nt.b)(Wt(),e)}),Object(i.jsxs)(_t,{id:"main-container",className:"animated main",ref:t,children:[Object(i.jsx)(Ut,{xDomain:[-8,8],yDomain:[-8,8],numCells:100,updateComparisionData:function(e,t){S({currentState:e,savedState:t})}}),Object(i.jsx)(Ht,{id:"dynamic-margin-main"})]}),Object(i.jsxs)(Kt,{transitioning:w,id:"transition-button",className:"animated",onClick:function(){c("main"===o?"compare":"main"),k(!0),document.querySelectorAll(".animated").forEach((function(e){return e.classList.toggle("active")}))},children:["main"===o&&Object(i.jsx)(j.a,{}),"compare"===o&&Object(i.jsx)(f.a,{})]}),Object(i.jsxs)(_t,{id:"compare-container",className:"animated compare",children:[Object(i.jsx)(Ht,{id:"dynamic-margin-compare"}),Object(i.jsx)(Vt,{currentState:null===C||void 0===C?void 0:C.currentState,savedState:null===C||void 0===C?void 0:C.savedState})]})]})},Yt=n(488);c.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(Yt.b,{injectFirst:!0,children:Object(i.jsx)(u,{children:Object(i.jsx)(qt,{})})})}),document.getElementById("root"))}},[[447,1,2]]]);
//# sourceMappingURL=main.5f206369.chunk.js.map